"use strict";(self.webpackChunkAIOAcessControl_WebApp=self.webpackChunkAIOAcessControl_WebApp||[]).push([[3935],{3935:(Ie,w,n)=>{n.r(w),n.d(w,{AScheduleDeviceDetailModule:()=>Ze});var I=n(8576),k=n(6154),L=n(4382),C=n(6019),S=n(9133),v=n(5351),F=n(8977),N=n(2262),g=n(9839),r=n(4176),e=n(3668),O=n(6765),q=n(9594),M=n(563),Q=n(2300),y=n(5304),E=n(888),W=n(5694),T=n(5243),J=n(86),Z=n(8167),Y=n(5498),U=n(138),R=n(904),G=n(7444),H=n(9112),V=n(6400),B=n(6731),P=n(9711);const $=["dialog"];function z(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().openDialog("create")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"button.createButton")," "))}function j(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().removeData()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",0==t.selection.selected.length),e.xp6(1),e.hij(" ",e.lcZ(2,2,"button.deleteButton")," ")}}function K(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"th",32),e.TgZ(1,"mat-checkbox",33),e.NdJ("change",function(l){e.CHM(t);const h=e.oxw(2);return l?h.masterToggle():null}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function X(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-checkbox",36),e.NdJ("click",function(l){return l.stopPropagation()})("change",function(l){e.CHM(t);const h=e.oxw().$implicit,m=e.oxw(2);return l?0==h.schDevId||63==h.schDevId||1==h.schDevId?null:m.selection.toggle(h):null}),e.qZA()}if(2&i){const t=e.oxw().$implicit,a=e.oxw(2);e.Q6J("checked",a.selection.isSelected(t))("aria-label",a.checkboxLabel(t))}}function ee(i,o){if(1&i&&(e.TgZ(0,"td",34),e.YNc(1,X,1,2,"mat-checkbox",35),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",!(0==t.schDevId||63==t.schDevId||1==t.schDevId))}}function te(i,o){1&i&&(e.TgZ(0,"th",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.positionCol")))}function ie(i,o){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&i){const t=o.index,a=e.oxw(2);e.xp6(1),e.Oqu(t+1+a.page*a.pageSize)}}function ae(i,o){1&i&&(e.TgZ(0,"th",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleDeviceDetailModule.scheDevIdCol")," "))}function le(i,o){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.schDevId)}}function oe(i,o){1&i&&(e.TgZ(0,"th",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleDeviceDetailModule.scheDevNameCol")," "))}function se(i,o){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.schName)}}function ce(i,o){1&i&&(e.TgZ(0,"th",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.actionCol")))}function ne(i,o){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"edit"),e.qZA())}function de(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"a",41),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit;return e.oxw(2).openDialog("edit",l)}),e.ALo(1,"translate"),e.YNc(2,ne,2,0,"mat-icon",42),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("matTooltip",e.lcZ(1,2,"button.editButton")),e.xp6(2),e.Q6J("ngIf",0!=t.schDevId&&63!=t.schDevId)}}function re(i,o){1&i&&(e.TgZ(0,"td",34),e.YNc(1,de,3,4,"a",40),e.ALo(2,"userRoles"),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,"UpdateAScheduleDeviceDetail")))}function he(i,o){1&i&&e._UZ(0,"tr",43)}function ue(i,o){1&i&&e._UZ(0,"tr",44)}function me(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"div",17),e.TgZ(2,"table",18),e.ynx(3,19),e.YNc(4,K,2,3,"th",20),e.YNc(5,ee,2,1,"td",21),e.BQk(),e.ynx(6,22),e.YNc(7,te,3,3,"th",23),e.YNc(8,ie,2,1,"td",21),e.BQk(),e.ynx(9,24),e.YNc(10,ae,3,3,"th",25),e.YNc(11,le,2,1,"td",21),e.BQk(),e.ynx(12,26),e.YNc(13,oe,3,3,"th",25),e.YNc(14,se,2,1,"td",21),e.BQk(),e.ynx(15,27),e.YNc(16,ce,3,3,"th",28),e.YNc(17,re,3,3,"td",21),e.BQk(),e.YNc(18,he,1,0,"tr",29),e.YNc(19,ue,1,0,"tr",30),e.qZA(),e.qZA(),e.TgZ(20,"mat-paginator",31),e.NdJ("page",function(l){return e.CHM(t),e.oxw().onChangePage(l)}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",t.pageSizeOptions)("pageIndex",t.page)("length",t.totalRow)("disabled",!1)}}function Se(i,o){if(1&i&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function pe(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleDeviceDetailModule.scheDevIdColRequired")," "))}function De(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleDeviceDetailModule.scheDevNameColRequired")," "))}function ge(i,o){1&i&&(e.TgZ(0,"th",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleDeviceDetailModule.timeslotCol")," "))}function ve(i,o){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.timeSlot)}}function xe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"th",32),e.TgZ(1,"mat-checkbox",33),e.NdJ("change",function(l){e.CHM(t);const h=e.oxw().$implicit,m=e.oxw(2);return l?m.masterTogglWeekday(h):null}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("checked",t.selectionWeekday.hasValue()&&a.isAllWeekdaySelected(t))("indeterminate",t.selectionWeekday.hasValue()&&!a.isAllWeekdaySelected(t))("aria-label",a.checkboxLabel())}}function fe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",34),e.TgZ(1,"mat-checkbox",36),e.NdJ("click",function(l){return l.stopPropagation()})("change",function(l){const m=e.CHM(t).$implicit,c=e.oxw().$implicit;return l?c.selectionWeekday.toggle(m):null}),e.qZA(),e.qZA()}if(2&i){const t=o.$implicit,a=e.oxw().$implicit,l=e.oxw(2);e.xp6(1),e.Q6J("checked",a.selectionWeekday.isSelected(t))("aria-label",l.checkboxLabel(t))}}function _e(i,o){1&i&&e._UZ(0,"tr",43)}function ye(i,o){1&i&&e._UZ(0,"tr",44)}function Ae(i,o){if(1&i&&(e.TgZ(0,"fieldset",61),e.TgZ(1,"legend",62),e.TgZ(2,"label"),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",16),e.TgZ(5,"div",17),e.TgZ(6,"table",63),e.ynx(7,64),e.YNc(8,ge,3,3,"th",25),e.YNc(9,ve,2,1,"td",21),e.BQk(),e.ynx(10,19),e.YNc(11,xe,2,3,"th",65),e.YNc(12,fe,2,2,"td",21),e.BQk(),e.YNc(13,_e,1,0,"tr",29),e.YNc(14,ye,1,0,"tr",30),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=o.$implicit;e.Q6J("fxFlexOffset",t.fxFlexOffset),e.xp6(1),e.Udp("color",t.colorTitle),e.xp6(2),e.Oqu(t.weekdayTitle),e.xp6(3),e.Q6J("dataSource",t.dataSourceWeekday),e.xp6(7),e.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}function be(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form",45),e.NdJ("submit",function(){return e.CHM(t),e.oxw().addData()}),e.TgZ(1,"h2",46),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-dialog-content",47),e.TgZ(5,"div",48),e.TgZ(6,"mat-form-field",49),e.TgZ(7,"mat-label"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"mat-select",50),e.YNc(11,Se,2,2,"mat-option",51),e.qZA(),e.YNc(12,pe,3,3,"mat-error",42),e.qZA(),e.qZA(),e.TgZ(13,"div",48),e.TgZ(14,"mat-form-field",49),e.TgZ(15,"mat-label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"input",52,53),e.ALo(20,"translate"),e.TgZ(21,"mat-hint",54),e._uU(22),e.qZA(),e.YNc(23,De,3,3,"mat-error",42),e.qZA(),e.qZA(),e.TgZ(24,"div",55),e.YNc(25,Ae,15,8,"fieldset",56),e.qZA(),e.qZA(),e.TgZ(26,"mat-dialog-actions",57),e.TgZ(27,"button",58),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"button",59),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(19),a=e.oxw();e.Q6J("formGroup",a.aScheduleDeviceDetailForm),e.xp6(2),e.Oqu(e.lcZ(3,14,a.title)),e.xp6(6),e.Oqu(e.lcZ(9,16,"aScheduleDeviceDetailModule.scheDevIdCol")),e.xp6(2),e.Q6J("disabled","edit"==a.action),e.xp6(1),e.Q6J("ngForOf",a.schDevDetailIdListNotCreated),e.xp6(1),e.Q6J("ngIf",a.getValidForm.schDevId.hasError("required")),e.xp6(4),e.Oqu(e.lcZ(17,18,"aScheduleDeviceDetailModule.scheDevNameCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(20,20,"aScheduleDeviceDetailModule.scheDevNameCol")),e.xp6(4),e.hij("",t.value.length," / 200"),e.xp6(1),e.Q6J("ngIf",a.getValidForm.schName.hasError("required")),e.xp6(2),e.Q6J("ngForOf",a.weekdays),e.xp6(3),e.Oqu(e.lcZ(29,22,"button.cancelButton")),e.xp6(2),e.Q6J("disabled",a.preventAbuse),e.xp6(1),e.Oqu(e.lcZ(32,24,"button.saveButton"))}}class _{constructor(o,t,a,l,h,m){this.weekdayTitle=o,this.selectionWeekday=t,this.dataSourceWeekday=a,this.displayedColumns=l,this.colorTitle=h,this.fxFlexOffset=m}}const Te=[{path:"",component:(()=>{class i{constructor(t,a,l,h,m,c){this.pagin=t,this.notificationService=a,this.translateService=l,this.dataService=h,this.dialog=m,this.formBuilder=c,this.displayedColumns=["select","position","schDevId","schName","action"],this.displayedWeekdayColumns=["timeSlot","select"],this.weekdays=[],this.weekdayData=[{timeSlot:"00: 00 - 00: 14",index:0},{timeSlot:"00: 15 - 00: 29",index:1},{timeSlot:"00: 30 - 00: 44",index:2},{timeSlot:"00: 45 - 00: 59",index:3},{timeSlot:"01: 00 - 01: 14",index:4},{timeSlot:"01: 15 - 01: 29",index:5},{timeSlot:"01: 30 - 01: 44",index:6},{timeSlot:"01: 45 - 01: 59",index:7},{timeSlot:"02: 00 - 02: 14",index:8},{timeSlot:"02: 15 - 02: 29",index:9},{timeSlot:"02: 30 - 02: 44",index:10},{timeSlot:"02: 45 - 02: 59",index:11},{timeSlot:"03: 00 - 03: 14",index:12},{timeSlot:"03: 15 - 03: 29",index:13},{timeSlot:"03: 30 - 03: 44",index:14},{timeSlot:"03: 45 - 03: 59",index:15},{timeSlot:"04: 00 - 04: 14",index:16},{timeSlot:"04: 15 - 04: 29",index:17},{timeSlot:"04: 30 - 04: 44",index:18},{timeSlot:"04: 45 - 04: 59",index:19},{timeSlot:"05: 00 - 05: 14",index:20},{timeSlot:"05: 15 - 05: 29",index:21},{timeSlot:"05: 30 - 05: 44",index:22},{timeSlot:"05: 45 - 05: 59",index:23},{timeSlot:"06: 00 - 06: 14",index:24},{timeSlot:"06: 15 - 06: 29",index:25},{timeSlot:"06: 30 - 06: 44",index:26},{timeSlot:"06: 45 - 06: 59",index:27},{timeSlot:"07: 00 - 07: 14",index:28},{timeSlot:"07: 15 - 07: 29",index:29},{timeSlot:"07: 30 - 07: 44",index:30},{timeSlot:"07: 45 - 07: 59",index:31},{timeSlot:"08: 00 - 08: 14",index:32},{timeSlot:"08: 15 - 08: 29",index:33},{timeSlot:"08: 30 - 08: 44",index:34},{timeSlot:"08: 45 - 08: 59",index:35},{timeSlot:"09: 00 - 09: 14",index:36},{timeSlot:"09: 15 - 09: 29",index:37},{timeSlot:"09: 30 - 09: 44",index:38},{timeSlot:"09: 45 - 09: 59",index:39},{timeSlot:"10: 00 - 10: 14",index:40},{timeSlot:"10: 15 - 10: 29",index:41},{timeSlot:"10: 30 - 10: 44",index:42},{timeSlot:"10: 45 - 10: 59",index:43},{timeSlot:"11: 00 - 11: 14",index:44},{timeSlot:"11: 15 - 11: 29",index:45},{timeSlot:"11: 30 - 11: 44",index:46},{timeSlot:"11: 45 - 11: 59",index:47},{timeSlot:"12: 00 - 12: 14",index:48},{timeSlot:"12: 15 - 12: 29",index:49},{timeSlot:"12: 30 - 12: 44",index:50},{timeSlot:"12: 45 - 12: 59",index:51},{timeSlot:"13: 00 - 13: 14",index:52},{timeSlot:"13: 15 - 13: 29",index:53},{timeSlot:"13: 30 - 13: 44",index:54},{timeSlot:"13: 45 - 13: 59",index:55},{timeSlot:"14: 00 - 14: 14",index:56},{timeSlot:"14: 15 - 14: 29",index:57},{timeSlot:"14: 30 - 14: 44",index:58},{timeSlot:"14: 45 - 14: 59",index:59},{timeSlot:"15: 00 - 15: 14",index:60},{timeSlot:"15: 15 - 15: 29",index:61},{timeSlot:"15: 30 - 15: 44",index:62},{timeSlot:"15: 45 - 15: 59",index:63},{timeSlot:"16: 00 - 16: 14",index:64},{timeSlot:"16: 15 - 16: 29",index:65},{timeSlot:"16: 30 - 16: 44",index:66},{timeSlot:"16: 45 - 16: 59",index:67},{timeSlot:"17: 00 - 17: 14",index:68},{timeSlot:"17: 15 - 17: 29",index:69},{timeSlot:"17: 30 - 17: 44",index:70},{timeSlot:"17: 45 - 17: 59",index:71},{timeSlot:"18: 00 - 18: 14",index:72},{timeSlot:"18: 15 - 18: 29",index:73},{timeSlot:"18: 30 - 18: 44",index:74},{timeSlot:"18: 45 - 18: 59",index:75},{timeSlot:"19: 00 - 19: 14",index:76},{timeSlot:"19: 15 - 19: 29",index:77},{timeSlot:"19: 30 - 19: 44",index:78},{timeSlot:"19: 45 - 19: 59",index:79},{timeSlot:"20: 00 - 20: 14",index:80},{timeSlot:"20: 15 - 20: 29",index:81},{timeSlot:"20: 30 - 20: 44",index:82},{timeSlot:"20: 45 - 20: 59",index:83},{timeSlot:"21: 00 - 21: 14",index:84},{timeSlot:"21: 15 - 21: 29",index:85},{timeSlot:"21: 30 - 21: 44",index:86},{timeSlot:"21: 45 - 21: 59",index:87},{timeSlot:"22: 00 - 22: 14",index:88},{timeSlot:"22: 15 - 22: 29",index:89},{timeSlot:"22: 30 - 22: 44",index:90},{timeSlot:"22: 45 - 22: 59",index:91},{timeSlot:"23: 00 - 23: 14",index:92},{timeSlot:"23: 15 - 23: 29",index:93},{timeSlot:"23: 30 - 23: 44",index:94},{timeSlot:"23: 45 - 23: 59",index:95}],this.dataSource=new r.by,this.dataSourceMonday=new r.by,this.dataSourceTuesday=new r.by,this.dataSourceWednesday=new r.by,this.dataSourceThursday=new r.by,this.dataSourceFridayday=new r.by,this.dataSourceSaturday=new r.by,this.dataSourceSunday=new r.by,this.selection=new v.Ov(!0,[]),this.selectionMonday=new v.Ov(!0,[]),this.selectionTuesday=new v.Ov(!0,[]),this.selectionWednesday=new v.Ov(!0,[]),this.selectionThursday=new v.Ov(!0,[]),this.selectionFridayday=new v.Ov(!0,[]),this.selectionSaturday=new v.Ov(!0,[]),this.selectionSunday=new v.Ov(!0,[]),this.preventAbuse=!1,this.page=0,this.keyword="",this.totalRow=0,this.totalPage=0,this.pageSizeOptions=[10,25,50,100],this.pageSize=this.pageSizeOptions[0],this.schDevDetailIdListNotCreated=[],this.aScheduleDeviceDetailForm=this.formBuilder.group({schDevId:["",S.kI.compose([S.kI.required])],schName:["",S.kI.compose([S.kI.required,S.kI.maxLength(200)])],mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",sun:""}),this.dataSourceMonday=new r.by(this.weekdayData),this.dataSourceTuesday=new r.by(this.weekdayData),this.dataSourceWednesday=new r.by(this.weekdayData),this.dataSourceThursday=new r.by(this.weekdayData),this.dataSourceFridayday=new r.by(this.weekdayData),this.dataSourceSaturday=new r.by(this.weekdayData),this.dataSourceSunday=new r.by(this.weekdayData),this.dataSourceMonday.sort=this.sort,this.dataSourceTuesday.sort=this.sort,this.dataSourceWednesday.sort=this.sort,this.dataSourceThursday.sort=this.sort,this.dataSourceFridayday.sort=this.sort,this.dataSourceSaturday.sort=this.sort,this.dataSourceSunday.sort=this.sort;let x="",f="",u="",d="",p="",A="",b="";this.translateService.get("aScheduleDeviceDetailModule.mondayCol").subscribe(D=>x=D),this.translateService.get("aScheduleDeviceDetailModule.tuesdayCol").subscribe(D=>f=D),this.translateService.get("aScheduleDeviceDetailModule.wednesdayCol").subscribe(D=>u=D),this.translateService.get("aScheduleDeviceDetailModule.thursdayCol").subscribe(D=>d=D),this.translateService.get("aScheduleDeviceDetailModule.fridayCol").subscribe(D=>p=D),this.translateService.get("aScheduleDeviceDetailModule.saturdayCol").subscribe(D=>A=D),this.translateService.get("aScheduleDeviceDetailModule.sundayCol").subscribe(D=>b=D);let s=new _(x,this.selectionMonday,this.dataSourceMonday,this.displayedWeekdayColumns,"#34395e",0),Ce=new _(f,this.selectionTuesday,this.dataSourceTuesday,this.displayedWeekdayColumns,"#34395e",2),we=new _(u,this.selectionWednesday,this.dataSourceWednesday,this.displayedWeekdayColumns,"#34395e",2),ke=new _(d,this.selectionThursday,this.dataSourceThursday,this.displayedWeekdayColumns,"#34395e",2),Fe=new _(p,this.selectionFridayday,this.dataSourceFridayday,this.displayedWeekdayColumns,"#34395e",2),Me=new _(A,this.selectionSaturday,this.dataSourceSaturday,this.displayedWeekdayColumns,"#fc544b",2),Ee=new _(b,this.selectionSunday,this.dataSourceSunday,this.displayedWeekdayColumns,"#fc544b",2);this.weekdays.push(s),this.weekdays.push(Ce),this.weekdays.push(we),this.weekdays.push(ke),this.weekdays.push(Fe),this.weekdays.push(Me),this.weekdays.push(Ee)}ngOnInit(){this.loadAScheduleDevDetailListPaging(),this.loadAllAScheduleDevDetail()}ngAfterViewInit(){this.paginator._intl.itemsPerPageLabel=this.pagin.setLable,this.paginator._intl.firstPageLabel=this.pagin.firstButton,this.paginator._intl.nextPageLabel=this.pagin.nextButton,this.paginator._intl.lastPageLabel=this.pagin.lastButton,this.paginator._intl.previousPageLabel=this.pagin.preButton}isAllSelected(){const t=this.selection.selected.length;return this.dataSource.data.length<3?t===this.dataSource.data.length:t===this.dataSource.data.length-3}isAllWeekdaySelected(t){return t.selectionWeekday.selected.length===t.dataSourceWeekday.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data.filter(t=>63!=t.schDevId&&0!=t.schDevId&&1!=t.schDevId))}masterTogglWeekday(t){this.isAllWeekdaySelected(t)?t.selectionWeekday.clear():t.selectionWeekday.select(...t.dataSourceWeekday.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}loadAScheduleDevDetailListPaging(){this.preventAbuse=!0,this.dataService.get("aScheduleDeviceDetail/getlistpaging?page="+this.page+"&pageSize="+this.pageSize+"&keyword="+this.keyword).subscribe(t=>{this.dataSource=new r.by(t.items),this.dataSource.sort=this.sort,this.totalRow=t.totalCount,this.preventAbuse=!1},t=>{this.translateService.get("messageSystem.loadFail").subscribe(a=>g.Q.GET_FAILSE_MSG=a),this.notificationService.printErrorMessage(g.Q.GET_FAILSE_MSG),this.preventAbuse=!1})}loadAllAScheduleDevDetail(){this.schDevDetailIdListNotCreated=[],this.preventAbuse=!0,this.dataService.get("aScheduleDeviceDetail/getall").subscribe(t=>{this.preventAbuse=!1;let a=[];t.forEach(l=>{a.push(l.schDevId)});for(let l=0;l<59;l++)-1==a.indexOf(l)&&this.schDevDetailIdListNotCreated.push(l)},t=>{this.translateService.get("messageSystem.loadFail").subscribe(a=>g.Q.GET_FAILSE_MSG=a),this.notificationService.printErrorMessage(g.Q.GET_FAILSE_MSG),this.preventAbuse=!1})}applyFilter(t){this.keyword=t.target.value,this.page=0,this.loadAScheduleDevDetailListPaging(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onChangePage(t){this.page=t.pageIndex,this.pageSize=t.pageSize,this.loadAScheduleDevDetailListPaging()}removeData(){let t=[];this.selection.selected.forEach(a=>{t.push(a.schDevId)}),this.translateService.get("messageSystem.confirmDelete").subscribe(a=>g.Q.CONFIRM_DELETE_MSG=a),this.notificationService.printConfirmationDialog(g.Q.CONFIRM_DELETE_MSG,()=>this.deleteItemConfirm(JSON.stringify(t)))}deleteItemConfirm(t){this.preventAbuse=!0,this.dataService.delete("aScheduleDeviceDetail/deletemulti","checkedList",t).subscribe(a=>{this.translateService.get("messageSystem.deleteSuccess").subscribe(l=>g.Q.DELETED_OK_MSG=l),this.notificationService.printSuccessMessage(g.Q.DELETED_OK_MSG),this.selection.clear(),this.loadAScheduleDevDetailListPaging()},a=>{this.preventAbuse=!1,this.translateService.get("messageSystem.deletefail").subscribe(l=>g.Q.DELETE_FAILSE_MSG=l),this.notificationService.printErrorMessage(g.Q.DELETE_FAILSE_MSG)})}openDialog(t,a,l){this.resetChecked(),this.action=t,"create"==t?(this.loadAllAScheduleDevDetail(),this.translateService.get("aScheduleDeviceDetailModule.createMessage").subscribe(m=>this.title=m)):(this.translateService.get("aScheduleDeviceDetailModule.editMessage").subscribe(m=>this.title=m),this.dataService.get("aScheduleDeviceDetail/getbyid/"+a.schDevId).subscribe(m=>{let c=m;this.schDevDetailIdListNotCreated.push(c.schDevId),this.aScheduleDeviceDetailForm.controls.schDevId.setValue(c.schDevId),this.aScheduleDeviceDetailForm.controls.schName.setValue(c.schName),this.aScheduleDeviceDetailForm.controls.mon.setValue(c.mon),this.aScheduleDeviceDetailForm.controls.tue.setValue(c.tue),this.aScheduleDeviceDetailForm.controls.wed.setValue(c.wed),this.aScheduleDeviceDetailForm.controls.thu.setValue(c.thu),this.aScheduleDeviceDetailForm.controls.fri.setValue(c.fri),this.aScheduleDeviceDetailForm.controls.sat.setValue(c.sat),this.aScheduleDeviceDetailForm.controls.sun.setValue(c.sun);let x=[],f=[],u=[],d=[],p=[],A=[],b=[];""!=c.mon&&(x=c.mon.split(",").map(s=>+s)),""!=c.tue&&(f=c.tue.split(",").map(s=>+s)),""!=c.wed&&(u=c.wed.split(",").map(s=>+s)),""!=c.thu&&(d=c.thu.split(",").map(s=>+s)),""!=c.fri&&(p=c.fri.split(",").map(s=>+s)),""!=c.sat&&(A=c.sat.split(",").map(s=>+s)),""!=c.sun&&(b=c.sun.split(",").map(s=>+s)),this.dataSourceMonday.data.forEach(s=>{-1!=x.indexOf(s.index)&&this.selectionMonday.select(s)}),this.dataSourceTuesday.data.forEach(s=>{-1!=f.indexOf(s.index)&&this.selectionTuesday.select(s)}),this.dataSourceWednesday.data.forEach(s=>{-1!=u.indexOf(s.index)&&this.selectionWednesday.select(s)}),this.dataSourceThursday.data.forEach(s=>{-1!=d.indexOf(s.index)&&this.selectionThursday.select(s)}),this.dataSourceFridayday.data.forEach(s=>{-1!=p.indexOf(s.index)&&this.selectionFridayday.select(s)}),this.dataSourceSaturday.data.forEach(s=>{-1!=A.indexOf(s.index)&&this.selectionSaturday.select(s)}),this.dataSourceSunday.data.forEach(s=>{-1!=b.indexOf(s.index)&&this.selectionSunday.select(s)}),this.preventAbuse=!1},m=>{this.translateService.get("messageSystem.loadFail").subscribe(c=>g.Q.GET_FAILSE_MSG=c),this.notificationService.printErrorMessage(g.Q.GET_FAILSE_MSG),this.preventAbuse=!1}));const h=this.dialog.open(this.dialogTemplate,{width:"1250px",autoFocus:!1});h.disableClose=!0,h.afterClosed().subscribe(m=>{this.onReset()})}resetChecked(){this.dataSourceMonday.data.forEach(t=>{this.selectionMonday.deselect(t)}),this.dataSourceTuesday.data.forEach(t=>{this.selectionTuesday.deselect(t)}),this.dataSourceWednesday.data.forEach(t=>{this.selectionWednesday.deselect(t)}),this.dataSourceThursday.data.forEach(t=>{this.selectionThursday.deselect(t)}),this.dataSourceFridayday.data.forEach(t=>{this.selectionFridayday.deselect(t)}),this.dataSourceSaturday.data.forEach(t=>{this.selectionSaturday.deselect(t)}),this.dataSourceSunday.data.forEach(t=>{this.selectionSunday.deselect(t)})}onReset(){this.dialog.closeAll(),this.aScheduleDeviceDetailForm.reset()}get getValidForm(){return this.aScheduleDeviceDetailForm.controls}addData(){if(this.aScheduleDeviceDetailForm.invalid)return;let t=[];this.selectionMonday.selected.forEach(u=>{t.push(u.index)});let a=[];this.selectionTuesday.selected.forEach(u=>{a.push(u.index)});let l=[];this.selectionWednesday.selected.forEach(u=>{l.push(u.index)});let h=[];this.selectionThursday.selected.forEach(u=>{h.push(u.index)});let m=[];this.selectionFridayday.selected.forEach(u=>{m.push(u.index)});let c=[];this.selectionSaturday.selected.forEach(u=>{c.push(u.index)});let x=[];this.selectionSunday.selected.forEach(u=>{x.push(u.index)}),this.aScheduleDeviceDetailForm.controls.mon.setValue(t.toString()),this.aScheduleDeviceDetailForm.controls.tue.setValue(a.toString()),this.aScheduleDeviceDetailForm.controls.wed.setValue(l.toString()),this.aScheduleDeviceDetailForm.controls.thu.setValue(h.toString()),this.aScheduleDeviceDetailForm.controls.fri.setValue(m.toString()),this.aScheduleDeviceDetailForm.controls.sat.setValue(c.toString()),this.aScheduleDeviceDetailForm.controls.sun.setValue(x.toString());let f={schDevId:this.aScheduleDeviceDetailForm.controls.schDevId.value,schName:this.aScheduleDeviceDetailForm.controls.schName.value,mon:this.aScheduleDeviceDetailForm.controls.mon.value,tue:this.aScheduleDeviceDetailForm.controls.tue.value,wed:this.aScheduleDeviceDetailForm.controls.wed.value,thu:this.aScheduleDeviceDetailForm.controls.thu.value,fri:this.aScheduleDeviceDetailForm.controls.fri.value,sat:this.aScheduleDeviceDetailForm.controls.sat.value,sun:this.aScheduleDeviceDetailForm.controls.sun.value};"create"==this.action?this.dataService.post("aScheduleDeviceDetail/create",f).subscribe(u=>{let d;this.translateService.get("messageSystem.createSuccess").subscribe(p=>d=p),this.notificationService.printSuccessMessage(d),this.loadAScheduleDevDetailListPaging()},u=>{let d;this.preventAbuse=!1,this.translateService.get("messageSystem.createFail").subscribe(p=>d=p),this.notificationService.printErrorMessage(d)}):"edit"==this.action&&this.dataService.put("aScheduleDeviceDetail/update",f).subscribe(u=>{let d;this.translateService.get("messageSystem.updateSuccess").subscribe(p=>d=p),this.notificationService.printSuccessMessage(d),this.loadAScheduleDevDetailListPaging()},u=>{let d;this.preventAbuse=!1,this.translateService.get("messageSystem.updateFail").subscribe(p=>d=p),this.notificationService.printErrorMessage(d)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(O.d),e.Y36(q.g),e.Y36(M.sK),e.Y36(Q.D),e.Y36(y.uw),e.Y36(S.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-a-schedule-device-detail"]],viewQuery:function(t,a){if(1&t&&(e.Gf(F.NW,5),e.Gf(N.YE,5),e.Gf($,5)),2&t){let l;e.iGM(l=e.CRH())&&(a.paginator=l.first),e.iGM(l=e.CRH())&&(a.sort=l.first),e.iGM(l=e.CRH())&&(a.dialogTemplate=l.first)}},decls:32,vars:21,consts:[["color","red"],["progressBar",""],["color","primary"],["fxLayout.xl","row","fxLayout.lg","row","fxLayout.md","row","fxLayout.xs","column"],["fxFlex","","fxLayoutAlign","start center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["color","warn","mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button",""],["fxFlex",""],["appearance","standard","ngClass.md","width100"],["matInput","",3,"placeholder","keyup"],["inputSearch",""],["class","mat-elevation-z8 table-container",4,"ngIf"],["dialog",""],["mat-raised-button","","color","primary",3,"click"],["color","warn","mat-raised-button","",3,"disabled","click"],[1,"mat-elevation-z8","table-container"],[1,"res-table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","checkbox-col",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","schDevId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","schName"],["matColumnDef","action","stickyEnd",""],["mat-header-cell","","class","action-col",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","pageSize","showFirstLastButtons","","aria-label","Select page of appRoles elements",3,"pageSizeOptions","pageIndex","length","disabled","page"],["mat-header-cell","",1,"checkbox-col"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change",4,"ngIf"],[3,"checked","aria-label","click","change"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","",1,"action-col"],["href","javascript:void(0)","color","primary",3,"matTooltip","click",4,"ngIf"],["href","javascript:void(0)","color","primary",3,"matTooltip","click"],[4,"ngIf"],["mat-header-row",""],["mat-row",""],["action","",3,"formGroup","submit"],["mat-dialog-title",""],[1,"mat-typography"],["fxLayout","row"],["appearance","outline","fxFlex.gt-sm","30","fxFlex.lt-sm","100"],["formControlName","schDevId","required","",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","schName","maxlength","200","required","",3,"placeholder"],["schName",""],["align","end"],["fxLayout","row",2,"overflow-x","scroll"],[3,"fxFlexOffset",4,"ngFor","ngForOf"],["align","center",1,"sticky-modal-footer"],["mat-stroked-button","","color","warn","mat-dialog-close",""],["mat-stroked-button","","color","primary","type","submit",3,"disabled"],[3,"value"],[3,"fxFlexOffset"],[1,"legend-weekday"],["mat-table","","matSort","",1,"table-weekday",3,"dataSource"],["matColumnDef","timeSlot"],["mat-header-cell","","class","checkbox-col ",4,"matHeaderCellDef"]],template:function(t,a){1&t&&(e._UZ(0,"ng-progress",0,1),e.TgZ(2,"mat-card"),e.TgZ(3,"div"),e.TgZ(4,"mat-card-title",2),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"mat-divider"),e._UZ(8,"br"),e._UZ(9,"br"),e.TgZ(10,"div",3),e.TgZ(11,"div",4),e.YNc(12,z,3,3,"button",5),e.ALo(13,"userRoles"),e.YNc(14,j,3,4,"button",6),e.ALo(15,"userRoles"),e.TgZ(16,"button",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.qZA(),e._UZ(19,"div",8),e.TgZ(20,"div",8),e.TgZ(21,"mat-form-field",9),e.TgZ(22,"mat-label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"input",10,11),e.NdJ("keyup",function(h){return a.applyFilter(h)}),e.ALo(27,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(28,me,21,8,"div",12),e.ALo(29,"userRoles"),e.qZA(),e.YNc(30,be,33,26,"ng-template",null,13,e.W1O)),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,7,"aScheduleDeviceDetailModule.title")),e.xp6(7),e.Q6J("ngIf",e.lcZ(13,9,"CreateAScheduleDeviceDetail")),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,11,"DeleteAScheduleDeviceDetail")),e.xp6(3),e.hij(" ",e.lcZ(18,13,"aScheduleDeviceDetailModule.syncAll")," "),e.xp6(6),e.hij(" ",e.lcZ(24,15,"button.searchButton"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(27,17,"button.searchPlaceholder")),e.xp6(3),e.Q6J("ngIf",e.lcZ(29,19,"ViewAScheduleDeviceDetail")))},directives:[k.Yh,E.a8,E.n5,W.d,T.xw,T.yH,T.Wh,C.O5,J.lW,Z.KE,Y.oO,Z.hX,U.Nt,r.BZ,r.w1,r.fO,r.Dz,r.as,r.nj,F.NW,r.ge,R.oG,r.ev,G.gM,H.Hw,r.XQ,r.Gk,S._Y,S.JL,S.sg,y.uh,y.xY,V.gD,S.JJ,S.u,S.Q7,C.sg,S.Fj,S.nD,Z.bx,y.H8,y.ZT,B.ey,Z.TO,T.UT],pipes:[M.X$,P.v],styles:["fieldset[_ngcontent-%COMP%]{border:2px solid grey;padding:8px}.table-weekday[_ngcontent-%COMP%]{min-width:180px}.res-table-container[_ngcontent-%COMP%]{max-height:350px;overflow-x:hidden}.legend-weekday[_ngcontent-%COMP%]{padding:5px 8px;width:auto;margin-left:10px;font-weight:600}"]}),i})()}];let Ze=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[C.ez,L.Bz.forChild(Te),k.Q8,I.q]]}),i})()}}]);