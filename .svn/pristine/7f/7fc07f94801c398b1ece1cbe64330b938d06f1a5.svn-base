"use strict";(self.webpackChunkAIOAcessControl_WebApp=self.webpackChunkAIOAcessControl_WebApp||[]).push([[5795],{5795:(me,f,l)=>{l.r(f),l.d(f,{ALeaveTypeModule:()=>pe});var T=l(6019),C=l(5351),r=l(9133),y=l(8977),N=l(2262),c=l(4176),F=l(1125),M=l(8053),m=l(9839),e=l(3668),x=l(2300),u=l(5304),A=l(9594),_=l(6765),L=l(563),Z=l(6154),S=l(888),k=l(5694),g=l(5243),h=l(8167),D=l(5498),I=l(138),E=l(86),O=l(904),q=l(7444),Q=l(9112),b=l(9711);const R=["dialog"];function J(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().openDialog("create")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"button.createButton")," "))}function U(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().removeData()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("disabled",0==t.selection.selected.length),e.xp6(1),e.hij(" ",e.lcZ(2,2,"button.deleteButton")," ")}}function w(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"th",32),e.TgZ(1,"mat-checkbox",33),e.NdJ("change",function(i){e.CHM(t);const s=e.oxw(2);return i?s.masterToggle():null}),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Y(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"td",34),e.TgZ(1,"mat-checkbox",35),e.NdJ("click",function(i){return i.stopPropagation()})("change",function(i){const p=e.CHM(t).$implicit,d=e.oxw(2);return i?d.selection.toggle(p):null}),e.qZA(),e.qZA()}if(2&a){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function P(a,n){1&a&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.positionCol")))}function B(a,n){if(1&a&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&a){const t=n.index,o=e.oxw(2);e.xp6(1),e.Oqu(t+1+o.page*o.pageSize)}}function H(a,n){1&a&&(e.TgZ(0,"th",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"aLeaveTypeModule.leaveTypeNameCol")))}function G(a,n){if(1&a&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.Oqu(t.letName)}}function z(a,n){1&a&&(e.TgZ(0,"th",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"aLeaveTypeModule.ltSalaryCol")))}function j(a,n){if(1&a&&(e.TgZ(0,"td",34),e.TgZ(1,"mat-checkbox",38),e.NdJ("click",function(o){return o.preventDefault()}),e.qZA(),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.Q6J("disableRipple",!0)("checked",t.letSalary)}}function V(a,n){1&a&&(e.TgZ(0,"th",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"aLeaveTypeModule.ltStatusCol")))}function $(a,n){if(1&a&&(e.TgZ(0,"td",34),e.TgZ(1,"mat-checkbox",38),e.NdJ("click",function(o){return o.preventDefault()}),e.qZA(),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.Q6J("disableRipple",!0)("checked",t.letStatus)}}function W(a,n){1&a&&(e.TgZ(0,"th",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.actionCol")))}function K(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"a",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw(2).openDialog("edit",i)}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA(),e.qZA()}2&a&&e.s9C("matTooltip",e.lcZ(1,1,"button.editButton"))}function X(a,n){1&a&&(e.TgZ(0,"td",34),e.YNc(1,K,4,3,"a",40),e.ALo(2,"userRoles"),e.qZA()),2&a&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,"UpdateALeaveType")))}function ee(a,n){1&a&&e._UZ(0,"tr",42)}function te(a,n){1&a&&e._UZ(0,"tr",43)}function ae(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"div",16),e.TgZ(2,"table",17),e.ynx(3,18),e.YNc(4,w,2,3,"th",19),e.YNc(5,Y,2,2,"td",20),e.BQk(),e.ynx(6,21),e.YNc(7,P,3,3,"th",22),e.YNc(8,B,2,1,"td",20),e.BQk(),e.ynx(9,23),e.YNc(10,H,3,3,"th",24),e.YNc(11,G,2,1,"td",20),e.BQk(),e.ynx(12,25),e.YNc(13,z,3,3,"th",24),e.YNc(14,j,2,2,"td",20),e.BQk(),e.ynx(15,26),e.YNc(16,V,3,3,"th",24),e.YNc(17,$,2,2,"td",20),e.BQk(),e.ynx(18,27),e.YNc(19,W,3,3,"th",28),e.YNc(20,X,3,3,"td",20),e.BQk(),e.YNc(21,ee,1,0,"tr",29),e.YNc(22,te,1,0,"tr",30),e.qZA(),e.qZA(),e.TgZ(23,"mat-paginator",31),e.NdJ("page",function(i){return e.CHM(t),e.oxw().onChangePage(i)}),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",t.pageSizeOptions)("pageIndex",t.page)("length",t.totalRow)("disabled",!1)}}function oe(a,n){1&a&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aLeaveTypeModule.ltNameRequired")," "))}function ie(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"form",44),e.NdJ("submit",function(){return e.CHM(t),e.oxw().addData()}),e.TgZ(1,"h2",45),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-dialog-content",46),e.TgZ(5,"mat-form-field",47),e.TgZ(6,"mat-label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"input",48,49),e.ALo(11,"translate"),e.TgZ(12,"mat-hint",50),e._uU(13),e.qZA(),e.YNc(14,oe,3,3,"mat-error",51),e.qZA(),e.qZA(),e.TgZ(15,"div",52),e.TgZ(16,"div",53),e.TgZ(17,"mat-checkbox",54),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.TgZ(20,"div",55),e.TgZ(21,"mat-checkbox",56),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"mat-dialog-actions",57),e.TgZ(25,"button",58),e.NdJ("click",function(){return e.CHM(t),e.oxw().onReset()}),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"button",59),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.MAs(10),o=e.oxw();e.Q6J("formGroup",o.LeaveTypeForm),e.xp6(2),e.Oqu(e.lcZ(3,11,o.title)),e.xp6(5),e.Oqu(e.lcZ(8,13,"aLeaveTypeModule.leaveTypeNameCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(11,15,"aLeaveTypeModule.leaveTypeNameCol")),e.xp6(4),e.hij("",t.value.length," / 200"),e.xp6(1),e.Q6J("ngIf",o.getValidForm.letName.hasError("required")),e.xp6(4),e.hij(" ",e.lcZ(19,17,"aLeaveTypeModule.ltSalaryCol"),""),e.xp6(4),e.hij(" ",e.lcZ(23,19,"aLeaveTypeModule.ltStatusCol"),""),e.xp6(4),e.Oqu(e.lcZ(27,21,"button.cancelButton")),e.xp6(2),e.Q6J("disabled",o.preventAbuse),e.xp6(1),e.Oqu(e.lcZ(30,23,"button.saveButton"))}}let le=(()=>{class a{constructor(t,o,i,s,p,d){this.dataService=t,this.dialog=o,this.notificationService=i,this.pagin=s,this.translateService=p,this.formBuilder=d,this.displayedColumns=["select","position","letName","letSalary","letStatus","action"],this.dataSource=new c.by,this.preventAbuse=!1,this.page=0,this.keyword="",this.totalRow=0,this.totalPage=0,this.selection=new C.Ov(!0,[]),this.action="",this.title="",this.pageSizeOptions=[10,25,50,100],this.pageSize=this.pageSizeOptions[0],this.isAllChecked=!1,this.LeaveTypeParentControl=new r.NI,this.LeaveTypeForm=this.formBuilder.group({letId:"",letName:["",r.kI.compose([r.kI.required,r.kI.maxLength(100)])],letSalary:"",letStatus:""}),this.filteredOptions=this.LeaveTypeParentControl.valueChanges.pipe((0,F.O)(""),(0,M.U)(v=>v))}ngOnInit(){this.getALeavetypeListPaging()}openDialog(t,o,i){if(this.action=t,"create"==t)this.translateService.get("aLeaveTypeModule.createMessage").subscribe(p=>this.title=p),this.LeaveTypeForm.controls.letStatus.setValue(!0),this.LeaveTypeForm.controls.letSalary.setValue(!1);else{this.translateService.get("aLeaveTypeModule.editMessage").subscribe(d=>this.title=d),this.LeaveTypeForm.controls.letId.setValue(o.letId);let p=this.dataSource.filteredData.filter(d=>d.letId==o.letId)[0];this.LeaveTypeForm.controls.letName.setValue(p.letName),this.LeaveTypeForm.controls.letSalary.setValue(p.letSalary),this.LeaveTypeForm.controls.letStatus.setValue(p.letStatus)}const s=this.dialog.open(this.dialogTemplate,{width:"650px"});s.disableClose=!0,s.afterClosed().subscribe(p=>{this.onReset()})}onReset(){this.dialog.closeAll(),this.LeaveTypeForm.reset()}getALeavetypeListPaging(){this.preventAbuse=!0,this.dataService.get("ALeaveType/getlistpaging?page="+this.page+"&pageSize="+this.pageSize+"&keyword="+this.keyword).subscribe(t=>{this.dataSource=new c.by(t.items),this.dataSource.sort=this.sort,this.totalRow=t.totalCount,this.preventAbuse=!1},t=>{this.preventAbuse=!1,this.translateService.get("messageSystem.loadFail").subscribe(o=>m.Q.GET_FAILSE_MSG=o),this.notificationService.printErrorMessage(m.Q.GET_FAILSE_MSG)})}applyFilter(t){this.keyword=t.target.value,this.page=0,this.getALeavetypeListPaging(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}get getValidForm(){return this.LeaveTypeForm.controls}getParentId(t){this.LeaveTypeForm.controls.ltParentId.setValue(t.letId)}addData(){this.LeaveTypeForm.invalid||(this.preventAbuse=!0,"create"==this.action?this.dataService.post("ALeaveType/create",{letName:this.LeaveTypeForm.controls.letName.value,letSalary:this.LeaveTypeForm.controls.letSalary.value,letStatus:this.LeaveTypeForm.controls.letStatus.value}).subscribe(o=>{let i;this.translateService.get("messageSystem.createSuccess").subscribe(s=>i=s),this.notificationService.printSuccessMessage(i),this.getALeavetypeListPaging(),this.dialog.closeAll(),this.onReset()},o=>{let i;this.preventAbuse=!1,this.translateService.get("messageSystem.createFail").subscribe(s=>i=s),this.notificationService.printErrorMessage(o)}):"edit"==this.action&&this.dataService.put("ALeaveType/update",{letName:this.LeaveTypeForm.controls.letName.value,letId:this.LeaveTypeForm.controls.letId.value,letSalary:this.LeaveTypeForm.controls.letSalary.value,letStatus:this.LeaveTypeForm.controls.letStatus.value}).subscribe(o=>{let i;this.translateService.get("messageSystem.updateSuccess").subscribe(s=>i=s),this.notificationService.printSuccessMessage(i),this.getALeavetypeListPaging(),this.dialog.closeAll(),this.onReset()},o=>{let i;this.preventAbuse=!1,this.translateService.get("messageSystem.updateFail").subscribe(s=>i=s),this.notificationService.printErrorMessage(o)}),this.onReset())}removeData(){let t=[];this.selection.selected.forEach(o=>{t.push(o.letId)}),this.translateService.get("messageSystem.confirmDelete").subscribe(o=>m.Q.CONFIRM_DELETE_MSG=o),this.notificationService.printConfirmationDialog(m.Q.CONFIRM_DELETE_MSG,()=>this.deleteItemConfirm(JSON.stringify(t)))}deleteItemConfirm(t){this.preventAbuse=!0,this.dataService.delete("ALeaveType/deletemulti","checkedList",t).subscribe(o=>{this.translateService.get("messageSystem.deleteSuccess").subscribe(i=>m.Q.DELETED_OK_MSG=i),this.notificationService.printSuccessMessage(m.Q.DELETED_OK_MSG),this.selection.clear(),this.getALeavetypeListPaging()},o=>{this.preventAbuse=!1,this.translateService.get("messageSystem.deletefail").subscribe(i=>m.Q.DELETE_FAILSE_MSG=i),this.notificationService.printErrorMessage(m.Q.DELETE_FAILSE_MSG)})}ngAfterViewInit(){this.paginator._intl.itemsPerPageLabel=this.pagin.setLable,this.paginator._intl.firstPageLabel=this.pagin.firstButton,this.paginator._intl.nextPageLabel=this.pagin.nextButton,this.paginator._intl.lastPageLabel=this.pagin.lastButton,this.paginator._intl.previousPageLabel=this.pagin.preButton}onChangePage(t){this.page=t.pageIndex,this.pageSize=t.pageSize,this.getALeavetypeListPaging()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(x.D),e.Y36(u.uw),e.Y36(A.g),e.Y36(_.d),e.Y36(L.sK),e.Y36(r.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-a-leave-type"]],viewQuery:function(t,o){if(1&t&&(e.Gf(y.NW,5),e.Gf(N.YE,5),e.Gf(R,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.paginator=i.first),e.iGM(i=e.CRH())&&(o.sort=i.first),e.iGM(i=e.CRH())&&(o.dialogTemplate=i.first)}},decls:29,vars:18,consts:[["color","red"],["progressBar",""],["color","primary"],["fxLayout.xl","row","fxLayout.lg","row","fxLayout.md","row","fxLayout.xs","column"],["fxFlex","","fxLayoutAlign","start center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["color","warn","mat-raised-button","",3,"disabled","click",4,"ngIf"],["fxFlex",""],["appearance","standard","ngClass.md","width100"],["matInput","",3,"placeholder","keyup"],["inputSearch",""],["class","mat-elevation-z8 table-container",4,"ngIf"],["dialog",""],["mat-raised-button","","color","primary",3,"click"],["color","warn","mat-raised-button","",3,"disabled","click"],[1,"mat-elevation-z8","table-container"],[1,"res-table-container"],["mat-table","","matSort","",1,"example-table",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","checkbox-col",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","letName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","letSalary"],["matColumnDef","letStatus"],["matColumnDef","action","stickyEnd",""],["mat-header-cell","","class","action-col",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","pageSize","showFirstLastButtons","","aria-label","Select page of appRoles elements",3,"pageSizeOptions","pageIndex","length","disabled","page"],["mat-header-cell","",1,"checkbox-col"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header",""],[2,"margin-left","30px",3,"disableRipple","checked","click"],["mat-header-cell","",1,"action-col"],["href","javascript:void(0)","color","primary",3,"matTooltip","click",4,"ngIf"],["href","javascript:void(0)","color","primary",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""],["action","",3,"formGroup","submit"],["mat-dialog-title",""],[1,"mat-typography"],["appearance","outline"],["matInput","","formControlName","letName","maxlength","200","required","",3,"placeholder"],["name",""],["align","end"],[4,"ngIf"],["fxLayout.gt-xs","row","fxLayout.lt-xs","column"],["fxFlex.gt-xs","50","fxFlex.lt-xs","100"],["formControlName","letSalary",2,"margin-bottom","6px"],["fxFlex.gt-xs","50","fxFlexOffset.lt-xs","100","fxFlexOffset.gt-xs","5","fxFlexOffset.lt-xs","0",1,"action-blurb"],["formControlName","letStatus",2,"margin-bottom","6px"],["align","center"],["mat-stroked-button","","color","warn","mat-dialog-close","",3,"click"],["mat-stroked-button","","color","primary","type","submit",3,"disabled"]],template:function(t,o){1&t&&(e._UZ(0,"ng-progress",0,1),e.TgZ(2,"mat-card"),e.TgZ(3,"div"),e.TgZ(4,"mat-card-title",2),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"mat-divider"),e._UZ(8,"br"),e._UZ(9,"br"),e.TgZ(10,"div",3),e.TgZ(11,"div",4),e.YNc(12,J,3,3,"button",5),e.ALo(13,"userRoles"),e.YNc(14,U,3,4,"button",6),e.ALo(15,"userRoles"),e.qZA(),e._UZ(16,"div",7),e.TgZ(17,"div",7),e.TgZ(18,"mat-form-field",8),e.TgZ(19,"mat-label"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",9,10),e.NdJ("keyup",function(s){return o.applyFilter(s)}),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(25,ae,24,8,"div",11),e.ALo(26,"userRoles"),e.qZA(),e.YNc(27,ie,31,25,"ng-template",null,12,e.W1O)),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,6,"aLeaveTypeModule.title")),e.xp6(7),e.Q6J("ngIf",e.lcZ(13,8,"CreateALeaveType")),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,10,"DeleteALeaveType")),e.xp6(6),e.hij(" ",e.lcZ(21,12,"button.searchButton"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(24,14,"button.searchPlaceholder")),e.xp6(3),e.Q6J("ngIf",e.lcZ(26,16,"ViewALeaveType")))},directives:[Z.Yh,S.a8,S.n5,k.d,g.xw,g.yH,g.Wh,T.O5,h.KE,D.oO,h.hX,I.Nt,E.lW,c.BZ,c.w1,c.fO,c.Dz,c.as,c.nj,y.NW,c.ge,O.oG,c.ev,q.gM,Q.Hw,c.XQ,c.Gk,r._Y,r.JL,r.sg,u.uh,u.xY,r.Fj,r.JJ,r.u,r.nD,r.Q7,h.bx,g.UT,u.H8,u.ZT,h.TO],pipes:[L.X$,b.v],styles:[""]}),a})();var ne=l(4382),se=l(4646),re=l(8576);const ce=[{path:"",component:le}];let pe=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[x.D,A.g,_.d],imports:[[T.ez,re.q,b.a,ne.Bz.forChild(ce),Z.Q8.withConfig({spinnerPosition:"right",color:"#red"}),se.bj]]}),a})()}}]);