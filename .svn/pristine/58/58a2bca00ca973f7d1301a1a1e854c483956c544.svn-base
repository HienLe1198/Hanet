"use strict";(self.webpackChunkAIOAcessControl_WebApp=self.webpackChunkAIOAcessControl_WebApp||[]).push([[3899],{3899:(le,Z,s)=>{s.r(Z),s.d(Z,{AZoneModule:()=>se});var S=s(8576),f=s(6154),b=s(4382),_=s(6019),r=s(9133),C=s(5351),A=s(8977),T=s(2262),d=s(9839),c=s(4176),e=s(3668),z=s(6765),L=s(9594),x=s(563),D=s(2300),p=s(5304),v=s(888),y=s(5694),h=s(5243),g=s(8167),N=s(5498),M=s(138),F=s(86),I=s(904),k=s(7444),E=s(9112),q=s(9711);const Q=["dialog"];function U(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().openDialog("create")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"button.createButton")," "))}function Y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().removeData()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",0==t.selection.selected.length),e.xp6(1),e.hij(" ",e.lcZ(2,2,"button.deleteButton")," ")}}function J(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"th",32),e.TgZ(1,"mat-checkbox",33),e.NdJ("change",function(n){e.CHM(t);const l=e.oxw(2);return n?l.masterToggle():null}),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function O(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",34),e.TgZ(1,"mat-checkbox",35),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(n){const m=e.CHM(t).$implicit,u=e.oxw(2);return n?u.selection.toggle(m):null}),e.qZA(),e.qZA()}if(2&o){const t=i.$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("checked",a.selection.isSelected(t))("aria-label",a.checkboxLabel(t))}}function w(o,i){1&o&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.positionCol")))}function R(o,i){if(1&o&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&o){const t=i.index,a=e.oxw(2);e.xp6(1),e.Oqu(t+1+a.page*a.pageSize)}}function B(o,i){1&o&&(e.TgZ(0,"th",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij("",e.lcZ(2,1,"aZoneModule.aZoneNameCol")," "))}function H(o,i){if(1&o&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Oqu(t.zonName)}}function G(o,i){1&o&&(e.TgZ(0,"th",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aZoneModule.aZoneDescriptionCol")," "))}function P(o,i){if(1&o&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Oqu(t.zonDescription)}}function j(o,i){1&o&&(e.TgZ(0,"th",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij("",e.lcZ(2,1,"aZoneModule.aZoneStatusCol")," "))}function V(o,i){if(1&o&&(e.TgZ(0,"td",34),e.TgZ(1,"mat-checkbox",38),e.NdJ("click",function(a){return a.preventDefault()}),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("checked",t.zonStatus)("disableRipple",!0)}}function $(o,i){1&o&&(e.TgZ(0,"th",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.actionCol")))}function W(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"a",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw(2).openDialog("edit",n)}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA(),e.qZA()}2&o&&e.s9C("matTooltip",e.lcZ(1,1,"button.editButton"))}function K(o,i){1&o&&(e.TgZ(0,"td",34),e.YNc(1,W,4,3,"a",40),e.ALo(2,"userRoles"),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,"UpdateAZone")))}function X(o,i){1&o&&e._UZ(0,"tr",42)}function ee(o,i){1&o&&e._UZ(0,"tr",43)}function te(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"div",16),e.TgZ(2,"table",17),e.ynx(3,18),e.YNc(4,J,2,3,"th",19),e.YNc(5,O,2,2,"td",20),e.BQk(),e.ynx(6,21),e.YNc(7,w,3,3,"th",22),e.YNc(8,R,2,1,"td",20),e.BQk(),e.ynx(9,23),e.YNc(10,B,3,3,"th",24),e.YNc(11,H,2,1,"td",20),e.BQk(),e.ynx(12,25),e.YNc(13,G,3,3,"th",24),e.YNc(14,P,2,1,"td",20),e.BQk(),e.ynx(15,26),e.YNc(16,j,3,3,"th",24),e.YNc(17,V,2,2,"td",20),e.BQk(),e.ynx(18,27),e.YNc(19,$,3,3,"th",28),e.YNc(20,K,3,3,"td",20),e.BQk(),e.YNc(21,X,1,0,"tr",29),e.YNc(22,ee,1,0,"tr",30),e.qZA(),e.qZA(),e.TgZ(23,"mat-paginator",31),e.NdJ("page",function(n){return e.CHM(t),e.oxw().onChangePage(n)}),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",t.pageSizeOptions)("pageIndex",t.page)("length",t.totalRow)("disabled",!1)}}function oe(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aZoneModule.aZoneNameRequired")," "))}function ne(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aZoneModule.aZoneDescriptionRequired")," "))}function ae(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",44),e.NdJ("submit",function(){return e.CHM(t),e.oxw().addData()}),e.TgZ(1,"h2",45),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-dialog-content",46),e.TgZ(5,"mat-form-field",47),e.TgZ(6,"mat-label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"input",48,49),e.ALo(11,"translate"),e.TgZ(12,"mat-hint",50),e._uU(13),e.qZA(),e.YNc(14,oe,3,3,"mat-error",51),e.qZA(),e.TgZ(15,"mat-form-field",47),e.TgZ(16,"mat-label"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",52,53),e.ALo(21,"translate"),e.TgZ(22,"mat-hint",50),e._uU(23),e.qZA(),e.YNc(24,ne,3,3,"mat-error",51),e.qZA(),e.TgZ(25,"mat-checkbox",54),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.qZA(),e.TgZ(28,"mat-dialog-actions",55),e.TgZ(29,"button",56),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"button",57),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.MAs(10),a=e.MAs(20),n=e.oxw();e.Q6J("formGroup",n.aZoneForm),e.xp6(2),e.Oqu(e.lcZ(3,14,n.title)),e.xp6(5),e.Oqu(e.lcZ(8,16,"aZoneModule.aZoneNameCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(11,18,"aZoneModule.aZoneNameCol")),e.xp6(4),e.hij("",t.value.length," / 200"),e.xp6(1),e.Q6J("ngIf",n.getValidForm.zonName.hasError("required")),e.xp6(3),e.Oqu(e.lcZ(18,20,"aZoneModule.aZoneDescriptionCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(21,22,"aZoneModule.aZoneDescriptionCol")),e.xp6(4),e.hij("",a.value.length," / 200"),e.xp6(1),e.Q6J("ngIf",n.getValidForm.zonDescription.hasError("required")),e.xp6(2),e.hij(" ",e.lcZ(27,24,"aZoneModule.aZoneStatusCol")," "),e.xp6(4),e.Oqu(e.lcZ(31,26,"button.cancelButton")),e.xp6(2),e.Q6J("disabled",n.preventAbuse),e.xp6(1),e.Oqu(e.lcZ(34,28,"button.saveButton"))}}const ie=[{path:"",component:(()=>{class o{constructor(t,a,n,l,m,u){this.pagin=t,this.notificationService=a,this.translateService=n,this.dataService=l,this.dialog=m,this.formBuilder=u,this.displayedColumns=["select","position","zonName","zonDescription","zonStatus","action"],this.dataSource=new c.by,this.preventAbuse=!1,this.page=0,this.keyword="",this.totalRow=0,this.totalPage=0,this.pageSizeOptions=[10,25,50,100],this.pageSize=this.pageSizeOptions[0],this.selection=new C.Ov(!0,[]),this.aZoneForm=this.formBuilder.group({zonId:0,zonName:["",r.kI.compose([r.kI.required,r.kI.maxLength(200)])],zonDescription:["",r.kI.compose([r.kI.required,r.kI.maxLength(200)])],zonStatus:!0})}ngOnInit(){this.loadAZoneListPaging()}ngAfterViewInit(){this.paginator._intl.itemsPerPageLabel=this.pagin.setLable,this.paginator._intl.firstPageLabel=this.pagin.firstButton,this.paginator._intl.nextPageLabel=this.pagin.nextButton,this.paginator._intl.lastPageLabel=this.pagin.lastButton,this.paginator._intl.previousPageLabel=this.pagin.preButton}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}loadAZoneListPaging(){this.preventAbuse=!0,this.dataService.get("azone/getlistpaging?page="+this.page+"&pageSize="+this.pageSize+"&keyword="+this.keyword).subscribe(t=>{this.dataSource=new c.by(t.items),this.dataSource.sort=this.sort,this.totalRow=t.totalCount,this.preventAbuse=!1},t=>{this.translateService.get("messageSystem.loadFail").subscribe(a=>d.Q.GET_FAILSE_MSG=a),this.notificationService.printErrorMessage(d.Q.GET_FAILSE_MSG),this.preventAbuse=!1})}applyFilter(t){this.keyword=t.target.value,this.page=0,this.loadAZoneListPaging(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onChangePage(t){this.page=t.pageIndex,this.pageSize=t.pageSize,this.loadAZoneListPaging()}removeData(){let t=[];this.selection.selected.forEach(a=>{t.push(a.zonId)}),this.translateService.get("messageSystem.confirmDelete").subscribe(a=>d.Q.CONFIRM_DELETE_MSG=a),this.notificationService.printConfirmationDialog(d.Q.CONFIRM_DELETE_MSG,()=>this.deleteItemConfirm(JSON.stringify(t)))}deleteItemConfirm(t){this.preventAbuse=!0,this.dataService.delete("azone/deletemulti","checkedList",t).subscribe(a=>{this.translateService.get("messageSystem.deleteSuccess").subscribe(n=>d.Q.DELETED_OK_MSG=n),this.notificationService.printSuccessMessage(d.Q.DELETED_OK_MSG),this.selection.clear(),this.loadAZoneListPaging()},a=>{this.preventAbuse=!1,this.translateService.get("messageSystem.deletefail").subscribe(n=>d.Q.DELETE_FAILSE_MSG=n),this.notificationService.printErrorMessage(d.Q.DELETE_FAILSE_MSG)})}openDialog(t,a,n){if(this.action=t,"create"==t)this.translateService.get("aZoneModule.createMessage").subscribe(m=>this.title=m),this.aZoneForm.controls.zonStatus.setValue(!0);else{this.translateService.get("aZoneModule.editMessage").subscribe(u=>this.title=u),this.aZoneForm.controls.zonId.setValue(a.zonId);let m=this.dataSource.filteredData.filter(u=>u.zonId==a.zonId)[0];this.aZoneForm.controls.zonName.setValue(m.zonName),this.aZoneForm.controls.zonDescription.setValue(m.zonDescription),this.aZoneForm.controls.zonStatus.setValue(m.zonStatus)}const l=this.dialog.open(this.dialogTemplate,{width:"650px"});l.disableClose=!0,l.afterClosed().subscribe(m=>{this.onReset()})}onReset(){this.dialog.closeAll(),this.aZoneForm.reset()}get getValidForm(){return this.aZoneForm.controls}addData(){this.aZoneForm.invalid||(this.preventAbuse=!0,"create"==this.action?this.dataService.post("aZone/create",{zonName:this.aZoneForm.controls.zonName.value,zonDescription:this.aZoneForm.controls.zonDescription.value,zonStatus:this.aZoneForm.controls.zonStatus.value}).subscribe(a=>{let n;this.translateService.get("messageSystem.createSuccess").subscribe(l=>n=l),this.notificationService.printSuccessMessage(n),this.loadAZoneListPaging()},a=>{let n;this.preventAbuse=!1,this.translateService.get("messageSystem.createFail").subscribe(l=>n=l),this.notificationService.printErrorMessage(n)}):"edit"==this.action&&this.dataService.put("aZone/update",{zonId:this.aZoneForm.controls.zonId.value,zonName:this.aZoneForm.controls.zonName.value,zonDescription:this.aZoneForm.controls.zonDescription.value,zonStatus:this.aZoneForm.controls.zonStatus.value}).subscribe(a=>{let n;this.translateService.get("messageSystem.updateSuccess").subscribe(l=>n=l),this.notificationService.printSuccessMessage(n),this.loadAZoneListPaging()},a=>{let n;this.preventAbuse=!1,this.translateService.get("messageSystem.updateFail").subscribe(l=>n=l),this.notificationService.printErrorMessage(n)}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(z.d),e.Y36(L.g),e.Y36(x.sK),e.Y36(D.D),e.Y36(p.uw),e.Y36(r.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-a-zone"]],viewQuery:function(t,a){if(1&t&&(e.Gf(A.NW,5),e.Gf(T.YE,5),e.Gf(Q,5)),2&t){let n;e.iGM(n=e.CRH())&&(a.paginator=n.first),e.iGM(n=e.CRH())&&(a.sort=n.first),e.iGM(n=e.CRH())&&(a.dialogTemplate=n.first)}},decls:29,vars:18,consts:[["color","red"],["progressBar",""],["color","primary"],["fxLayout.xl","row","fxLayout.lg","row","fxLayout.md","row","fxLayout.xs","column"],["fxFlex","","fxLayoutAlign","start center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["color","warn","mat-raised-button","",3,"disabled","click",4,"ngIf"],["fxFlex",""],["appearance","standard","ngClass.md","width100"],["matInput","",3,"placeholder","keyup"],["inputSearch",""],["class","mat-elevation-z8 table-container",4,"ngIf"],["dialog",""],["mat-raised-button","","color","primary",3,"click"],["color","warn","mat-raised-button","",3,"disabled","click"],[1,"mat-elevation-z8","table-container"],[1,"res-table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","checkbox-col",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","zonName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","zonDescription"],["matColumnDef","zonStatus"],["matColumnDef","action","stickyEnd",""],["mat-header-cell","","class","action-col",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","pageSize","showFirstLastButtons","","aria-label","Select page of appRoles elements",3,"pageSizeOptions","pageIndex","length","disabled","page"],["mat-header-cell","",1,"checkbox-col"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header",""],[3,"checked","disableRipple","click"],["mat-header-cell","",1,"action-col"],["href","javascript:void(0)","color","primary",3,"matTooltip","click",4,"ngIf"],["href","javascript:void(0)","color","primary",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""],["action","",3,"formGroup","submit"],["mat-dialog-title",""],[1,"mat-typography"],["appearance","outline"],["matInput","","formControlName","zonName","maxlength","200","required","",3,"placeholder"],["zonName",""],["align","end"],[4,"ngIf"],["matInput","","formControlName","zonDescription","maxlength","200","required","",3,"placeholder"],["zonDescription",""],["formControlName","zonStatus"],["align","center",1,"sticky-modal-footer"],["mat-stroked-button","","color","warn","mat-dialog-close",""],["mat-stroked-button","","color","primary","type","submit",3,"disabled"]],template:function(t,a){1&t&&(e._UZ(0,"ng-progress",0,1),e.TgZ(2,"mat-card"),e.TgZ(3,"div"),e.TgZ(4,"mat-card-title",2),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"mat-divider"),e._UZ(8,"br"),e._UZ(9,"br"),e.TgZ(10,"div",3),e.TgZ(11,"div",4),e.YNc(12,U,3,3,"button",5),e.ALo(13,"userRoles"),e.YNc(14,Y,3,4,"button",6),e.ALo(15,"userRoles"),e.qZA(),e._UZ(16,"div",7),e.TgZ(17,"div",7),e.TgZ(18,"mat-form-field",8),e.TgZ(19,"mat-label"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",9,10),e.NdJ("keyup",function(l){return a.applyFilter(l)}),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(25,te,24,8,"div",11),e.ALo(26,"userRoles"),e.qZA(),e.YNc(27,ae,35,30,"ng-template",null,12,e.W1O)),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,6,"aZoneModule.title")),e.xp6(7),e.Q6J("ngIf",e.lcZ(13,8,"CreateAZone")),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,10,"DeleteAZone")),e.xp6(6),e.hij(" ",e.lcZ(21,12,"button.searchButton"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(24,14,"button.searchPlaceholder")),e.xp6(3),e.Q6J("ngIf",e.lcZ(26,16,"ViewAZone")))},directives:[f.Yh,v.a8,v.n5,y.d,h.xw,h.yH,h.Wh,_.O5,g.KE,N.oO,g.hX,M.Nt,F.lW,c.BZ,c.w1,c.fO,c.Dz,c.as,c.nj,A.NW,c.ge,I.oG,c.ev,k.gM,E.Hw,c.XQ,c.Gk,r._Y,r.JL,r.sg,p.uh,p.xY,r.Fj,r.JJ,r.u,r.nD,r.Q7,g.bx,p.H8,p.ZT,g.TO],pipes:[x.X$,q.v],styles:[""]}),o})()}];let se=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[_.ez,b.Bz.forChild(ie),f.Q8,S.q]]}),o})()}}]);