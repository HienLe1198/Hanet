"use strict";(self.webpackChunkAIOAcessControl_WebApp=self.webpackChunkAIOAcessControl_WebApp||[]).push([[7929],{7929:(E,d,n)=>{n.r(d),n.d(d,{LoginModule:()=>_});var c=n(563),u=n(9112),m=n(138),i=n(9133),p=n(9839),A=n(2805),h=n(4747),t=n(3668),f=n(1477),C=n(9594),M=n(4382),O=n(4522),b=n(6154),g=n(8167),v=n(6019),x=n(86);function Z(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"login.userNameRequired")," "))}function L(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"login.passwordRequired")," "))}const P=function(){return{standalone:!0}};let S=(()=>{class e{constructor(r,o,l,a,w){this.authenService=r,this.notificationService=o,this.router=l,this.translate=a,this.httpClient=w,this.model={},this.preventAbuse=!1}login(){!this.validate()||(this.preventAbuse=!0,this.authenService.login(this.model).subscribe(r=>{this.router.navigate([A.r.HOME]),this.preventAbuse=!1},r=>{401===r.status?(this.translate.get("messageSystem.incorrectAccount").subscribe(o=>p.Q.SYS_ERROR_LOGIN_FAILSE=o),this.notificationService.printErrorMessage(p.Q.SYS_ERROR_LOGIN_FAILSE)):(this.translate.get("messageSystem.serverNotConnect").subscribe(o=>p.Q.SYS_ERROR_LOGIN_FAILSE=o),this.notificationService.printErrorMessage(p.Q.SYS_ERROR_LOGIN_FAILSE)),this.preventAbuse=!1}))}validate(){return null!=this.model.username&&null!=this.model.password}ngOnInit(){localStorage.removeItem(h.h.CURRENT_USER),localStorage.removeItem(h.h.CURRENT_USER_ROLE)}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(f.x),t.Y36(C.g),t.Y36(M.F0),t.Y36(c.sK),t.Y36(O.eN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:36,vars:33,consts:[["color","red"],["progressBar",""],["id","divLogin",1,"text-center"],[1,"text-upper-case"],["name","form","novalidate","",3,"ngSubmit"],["f","ngForm"],["appearance","outline"],["matInput","","required","",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["username","ngModel"],["matSuffix",""],[4,"ngIf"],["type","password","matInput","","required","",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["password","ngModel"],[1,"example-button-row","float-right"],["id","login-button","mat-raised-button","","color","primary","type","submit",3,"disabled"],["href","javascript:void(0)","color","accent",2,"width","50%"]],template:function(r,o){if(1&r&&(t._UZ(0,"ng-progress",0,1),t.TgZ(2,"div",2),t.TgZ(3,"h2",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.TgZ(6,"form",4,5),t.NdJ("ngSubmit",function(){return o.login()}),t.TgZ(8,"mat-form-field",6),t.TgZ(9,"mat-label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"input",7,8),t.NdJ("ngModelChange",function(a){return o.model.username=a}),t.ALo(14,"translate"),t.qZA(),t._UZ(15,"mat-icon",9),t.YNc(16,Z,3,3,"mat-error",10),t.qZA(),t.TgZ(17,"mat-form-field",6),t.TgZ(18,"mat-label"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"input",11,12),t.NdJ("ngModelChange",function(a){return o.model.password=a}),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"mat-icon",9),t.YNc(25,L,3,3,"mat-error",10),t.qZA(),t.TgZ(26,"div",13),t.TgZ(27,"button",14),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"p"),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"a",15),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.qZA(),t.qZA()),2&r){const l=t.MAs(13),a=t.MAs(22);t.xp6(4),t.Oqu(t.lcZ(5,15,"login.title")),t.xp6(6),t.Oqu(t.lcZ(11,17,"login.userName")),t.xp6(2),t.s9C("placeholder",t.lcZ(14,19,"login.userName")),t.Q6J("ngModel",o.model.username)("ngModelOptions",t.DdM(31,P)),t.xp6(4),t.Q6J("ngIf",l.hasError("required")),t.xp6(3),t.hij(" ",t.lcZ(20,21,"login.password"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(23,23,"login.password")),t.Q6J("ngModel",o.model.password)("ngModelOptions",t.DdM(32,P)),t.xp6(4),t.Q6J("ngIf",a.hasError("required")),t.xp6(2),t.Q6J("disabled",o.preventAbuse),t.xp6(1),t.hij(" ",t.lcZ(29,25,"login.loginButton"),""),t.xp6(3),t.Oqu(t.lcZ(32,27,"login.isRegister")),t.xp6(3),t.Oqu(t.lcZ(35,29,"login.registerButton"))}},directives:[b.Yh,i._Y,i.JL,i.F,g.KE,g.hX,m.Nt,i.Fj,i.Q7,i.JJ,i.On,u.Hw,g.R9,v.O5,x.lW,g.TO],pipes:[c.X$],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.text-upper-case[_ngcontent-%COMP%]{text-transform:uppercase}body[_ngcontent-%COMP%]{font-family:Helvetica;background:#eee;-webkit-font-smoothing:antialiased}#divLogin.text-center[_ngcontent-%COMP%]{text-align:center;margin-top:4em}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-weight:300}h1[_ngcontent-%COMP%]{color:#636363}h3[_ngcontent-%COMP%]{color:#4a89dc}form[_ngcontent-%COMP%]{width:380px;margin:4em auto;padding:3em 2em 2em;background:#fafafa;border:1px solid #ebebeb;box-shadow:#00000026 0 1px 1px,#00000019 0 1px 2px}.group[_ngcontent-%COMP%]{position:relative;margin-bottom:45px}mat-form-field[_ngcontent-%COMP%]{width:100%}#login-button[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.float-right[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.bar[_ngcontent-%COMP%]{position:relative;display:block;width:100%}.bar[_ngcontent-%COMP%]:before, .bar[_ngcontent-%COMP%]:after{content:"";height:2px;width:0;bottom:1px;position:absolute;background:#4a89dc;transition:all .2s ease}.bar[_ngcontent-%COMP%]:before{left:50%}.bar[_ngcontent-%COMP%]:after{right:50%}.highlight[_ngcontent-%COMP%]{position:absolute;height:60%;width:100px;top:25%;left:0;pointer-events:none;opacity:.5}input[_ngcontent-%COMP%]:focus ~ .highlight[_ngcontent-%COMP%]{animation:inputHighlighter .3s ease}@keyframes inputHighlighter{0%{background:#4a89dc}to{width:0;background:transparent}}.button[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:12px 24px;margin:.3em 0 1em;width:100%;vertical-align:middle;color:#fff;font-size:16px;line-height:20px;-webkit-font-smoothing:antialiased;text-align:center;letter-spacing:1px;background:transparent;border:0;border-bottom:2px solid #3160B6;cursor:pointer;transition:all .15s ease}.button[_ngcontent-%COMP%]:focus{outline:0}.buttonBlue[_ngcontent-%COMP%]{background:#4a89dc;text-shadow:1px 1px 0 rgba(39,110,204,.5)}.buttonBlue[_ngcontent-%COMP%]:hover{background:#357bd8}.ripples[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;background:transparent}.ripplesCircle[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0;width:0;height:0;border-radius:50%;background:rgba(255,255,255,.25)}.ripples.is-active[_ngcontent-%COMP%]   .ripplesCircle[_ngcontent-%COMP%]{animation:ripples .4s ease-in}@keyframes ripples{0%{opacity:0}25%{opacity:1}to{width:200%;padding-bottom:200%;opacity:0}}footer[_ngcontent-%COMP%]{text-align:center}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;font-size:13px;letter-spacing:.4px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4a89dc;text-decoration:none;transition:all .2s ease}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#666;text-decoration:underline}footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;transition:all .2s ease}footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.83}footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:focus, footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:none}']}),e})();var y=n(2300),T=n(4646);const R=[{path:"",component:S}];let _=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[f.x,C.g,y.D,c.sK],imports:[[v.ez,i.u5,i.UX,M.Bz.forChild(R),O.JF,g.lN,m.c,u.Ps,x.ot,b.Q8.withConfig({spinnerPosition:"right",color:"#red"}),T.bj,c.aw]]}),e})()}}]);