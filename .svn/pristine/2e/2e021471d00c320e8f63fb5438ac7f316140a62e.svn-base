"use strict";(self.webpackChunkAIOAcessControl_WebApp=self.webpackChunkAIOAcessControl_WebApp||[]).push([[5850],{5850:(Ue,f,l)=>{l.r(f),l.d(f,{ATimeaddModule:()=>Fe});var _=l(6019),M=l(5351),r=l(9133),x=l(8977),L=l(2262),m=l(4176),C=l(1125),h=l(8053),c=l(9839),e=l(3668),Z=l(2300),A=l(5304),v=l(9594),b=l(6765),y=l(563),S=l(6154),N=l(888),I=l(5694),T=l(5243),g=l(8167),F=l(5498),O=l(138),U=l(86),Q=l(904),k=l(7444),Y=l(9112),q=l(9851),j=l(6731),E=l(9711);const D=["dialog"];function J(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().openDialog("create")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"button.createButton")," "))}function w(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().removeData()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",0==t.selection.selected.length),e.xp6(1),e.hij(" ",e.lcZ(2,2,"button.deleteButton")," ")}}function R(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"th",38),e.TgZ(1,"mat-checkbox",39),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw(2);return a?s.masterToggle():null}),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function B(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"td",40),e.TgZ(1,"mat-checkbox",41),e.NdJ("click",function(a){return a.stopPropagation()})("change",function(a){const d=e.CHM(t).$implicit,p=e.oxw(2);return a?p.selection.toggle(d):null}),e.qZA(),e.qZA()}if(2&o){const t=n.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("checked",i.selection.isSelected(t))("aria-label",i.checkboxLabel(t))}}function G(o,n){1&o&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.positionCol")))}function H(o,n){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&o){const t=n.index,i=e.oxw(2);e.xp6(1),e.Oqu(t+1+i.page*i.pageSize)}}function P(o,n){1&o&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"aTimeAddModule.emNameCol")))}function V(o,n){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(t.emName)}}function $(o,n){1&o&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"aTimeAddModule.emCodeCol")))}function z(o,n){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(t.emCode)}}function W(o,n){1&o&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"aTimeAddModule.emGenderCol")))}function X(o,n){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(t.emGender)}}function K(o,n){1&o&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"aTimeAddModule.emBirthdateCol")))}function ee(o,n){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.emBirthdate,"dd-MM-yyyy"))}}function te(o,n){1&o&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"aTimeAddModule.proNameCol")))}function oe(o,n){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(t.proName)}}function ie(o,n){1&o&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"aTimeAddModule.regNameCol")))}function ae(o,n){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(t.regName)}}function ne(o,n){1&o&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"aTimeAddModule.depNameCol")))}function le(o,n){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(t.depName)}}function re(o,n){1&o&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"aTimeAddModule.tiaFromCol")))}function se(o,n){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.tiaFrom,"dd-MM-yyyy HH:mm:ss"))}}function de(o,n){1&o&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"aTimeAddModule.tiaToCol")))}function me(o,n){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.tiaTo,"dd-MM-yyyy HH:mm:ss"))}}function ce(o,n){1&o&&(e.TgZ(0,"th",44),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.actionCol")))}function pe(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"a",46),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(2).openDialog("edit",a)}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA(),e.qZA()}2&o&&e.s9C("matTooltip",e.lcZ(1,1,"button.editButton"))}function ue(o,n){1&o&&(e.TgZ(0,"td",40),e.YNc(1,pe,4,3,"a",45),e.ALo(2,"userRoles"),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,"UpdateATimeAdd")))}function _e(o,n){1&o&&e._UZ(0,"tr",47)}function Ae(o,n){1&o&&e._UZ(0,"tr",48)}function he(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"div",16),e.TgZ(2,"table",17),e.ynx(3,18),e.YNc(4,R,2,3,"th",19),e.YNc(5,B,2,2,"td",20),e.BQk(),e.ynx(6,21),e.YNc(7,G,3,3,"th",22),e.YNc(8,H,2,1,"td",20),e.BQk(),e.ynx(9,23),e.YNc(10,P,3,3,"th",24),e.YNc(11,V,2,1,"td",20),e.BQk(),e.ynx(12,25),e.YNc(13,$,3,3,"th",24),e.YNc(14,z,2,1,"td",20),e.BQk(),e.ynx(15,26),e.YNc(16,W,3,3,"th",24),e.YNc(17,X,2,1,"td",20),e.BQk(),e.ynx(18,27),e.YNc(19,K,3,3,"th",24),e.YNc(20,ee,3,4,"td",20),e.BQk(),e.ynx(21,28),e.YNc(22,te,3,3,"th",24),e.YNc(23,oe,2,1,"td",20),e.BQk(),e.ynx(24,29),e.YNc(25,ie,3,3,"th",24),e.YNc(26,ae,2,1,"td",20),e.BQk(),e.ynx(27,30),e.YNc(28,ne,3,3,"th",24),e.YNc(29,le,2,1,"td",20),e.BQk(),e.ynx(30,31),e.YNc(31,re,3,3,"th",24),e.YNc(32,se,3,4,"td",20),e.BQk(),e.ynx(33,32),e.YNc(34,de,3,3,"th",24),e.YNc(35,me,3,4,"td",20),e.BQk(),e.ynx(36,33),e.YNc(37,ce,3,3,"th",34),e.YNc(38,ue,3,3,"td",20),e.BQk(),e.YNc(39,_e,1,0,"tr",35),e.YNc(40,Ae,1,0,"tr",36),e.qZA(),e.qZA(),e.TgZ(41,"mat-paginator",37),e.NdJ("page",function(a){return e.CHM(t),e.oxw().onChangePage(a)}),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(37),e.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",t.pageSizeOptions)("pageIndex",t.page)("length",t.totalRow)("disabled",!1)}}function ge(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).EmployeeControl.reset()}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA(),e.qZA()}}function Te(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"mat-option",66),e.NdJ("onSelectionChange",function(a){const d=e.CHM(t).$implicit;return e.oxw(2).onchangeEmployee(a,d)}),e._uU(1),e.qZA()}if(2&o){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.emName," ")}}function fe(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aTimeAddModule.emNameRequired")," "))}function xe(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aTimeAddModule.emNameRequired")," "))}function Ce(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).projectControl.reset()}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA(),e.qZA()}}function Ze(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"mat-option",66),e.NdJ("onSelectionChange",function(a){const d=e.CHM(t).$implicit;return e.oxw(2).onchangeProject(a,d)}),e._uU(1),e.qZA()}if(2&o){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.proName," ")}}function ve(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aTimeAddModule.proNameRequired")," "))}function be(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aTimeAddModule.proNameRequired")," "))}function ye(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aTimeAddModule.tiaFromRequired")," "))}function Se(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aTimeAddModule.tiaToRequired")," "))}function Ne(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"form",49),e.NdJ("submit",function(){return e.CHM(t),e.oxw().addData()}),e.TgZ(1,"h2",50),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-dialog-content",51),e.TgZ(5,"mat-form-field",52),e.TgZ(6,"mat-label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"input",53),e.ALo(10,"translate"),e.YNc(11,ge,3,0,"button",54),e.TgZ(12,"mat-autocomplete",55,56),e.YNc(14,Te,2,2,"mat-option",57),e.ALo(15,"async"),e.qZA(),e.YNc(16,fe,3,3,"mat-error",58),e.YNc(17,xe,3,3,"mat-error",58),e.qZA(),e.TgZ(18,"mat-form-field",52),e.TgZ(19,"mat-label"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",53),e.ALo(23,"translate"),e.YNc(24,Ce,3,0,"button",54),e.TgZ(25,"mat-autocomplete",55,59),e.YNc(27,Ze,2,2,"mat-option",57),e.ALo(28,"async"),e.qZA(),e.YNc(29,ve,3,3,"mat-error",58),e.YNc(30,be,3,3,"mat-error",58),e.qZA(),e.TgZ(31,"mat-form-field",52),e.TgZ(32,"mat-label"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"input",60),e.ALo(36,"translate"),e.YNc(37,ye,3,3,"mat-error",58),e.qZA(),e.TgZ(38,"mat-form-field",52),e.TgZ(39,"mat-label"),e._uU(40),e.ALo(41,"translate"),e.qZA(),e._UZ(42,"input",61),e.ALo(43,"translate"),e.YNc(44,Se,3,3,"mat-error",58),e.qZA(),e.qZA(),e.TgZ(45,"mat-dialog-actions",62),e.TgZ(46,"button",63),e.NdJ("click",function(){return e.CHM(t),e.oxw().onReset()}),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"button",64),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.MAs(13),i=e.MAs(26),a=e.oxw();e.Q6J("formGroup",a.ATimeAddForm),e.xp6(2),e.Oqu(e.lcZ(3,29,a.title)),e.xp6(5),e.Oqu(e.lcZ(8,31,"aTimeAddModule.emNameCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(10,33,"aTimeAddModule.emNameCol")),e.Q6J("formControl",a.EmployeeControl)("matAutocomplete",t),e.xp6(2),e.Q6J("ngIf",a.EmployeeControl.value),e.xp6(1),e.Q6J("displayWith",a.displayEmployees),e.xp6(2),e.Q6J("ngForOf",e.lcZ(15,35,a.EmployeeOptions)),e.xp6(2),e.Q6J("ngIf",a.EmployeeControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",!a.EmployeeControl.hasError("required")&&a.EmployeeControl.hasError("invalidAutocompleteObject")),e.xp6(3),e.Oqu(e.lcZ(21,37,"aTimeAddModule.proNameCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(23,39,"aTimeAddModule.proNameCol")),e.Q6J("formControl",a.projectControl)("matAutocomplete",i),e.xp6(2),e.Q6J("ngIf",a.projectControl.value),e.xp6(1),e.Q6J("displayWith",a.displayProject),e.xp6(2),e.Q6J("ngForOf",e.lcZ(28,41,a.projectOptions)),e.xp6(2),e.Q6J("ngIf",a.projectControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",!a.projectControl.hasError("required")&&a.projectControl.hasError("invalidAutocompleteObject")),e.xp6(3),e.Oqu(e.lcZ(34,43,"aTimeAddModule.tiaFromCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(36,45,"aTimeAddModule.tiaFromCol")),e.xp6(2),e.Q6J("ngIf",a.getValidForm.tiaFrom.hasError("required")),e.xp6(3),e.Oqu(e.lcZ(41,47,"aTimeAddModule.tiaToCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(43,49,"aTimeAddModule.tiaToCol")),e.xp6(2),e.Q6J("ngIf",a.getValidForm.tiaTo.hasError("required")),e.xp6(3),e.Oqu(e.lcZ(48,51,"button.cancelButton")),e.xp6(2),e.Q6J("disabled",a.preventAbuse),e.xp6(1),e.Oqu(e.lcZ(51,53,"button.saveButton"))}}let qe=(()=>{class o{constructor(t,i,a,s,d,p){this.dataService=t,this.dialog=i,this.notificationService=a,this.pagin=s,this.translateService=d,this.formBuilder=p,this.displayedColumns=["select","position","emName","emCode","emGender","emBirthdate","depName","regName","proName","tiaFrom","tiaTo","action"],this.dataSource=new m.by,this.preventAbuse=!1,this.page=0,this.keyword="",this.totalRow=0,this.totalPage=0,this.selection=new M.Ov(!0,[]),this.action="",this.title="",this.pageSizeOptions=[10,25,50,100],this.pageSize=this.pageSizeOptions[0],this.isAllChecked=!1,this.EmployeeControl=new r.NI("",{validators:[this.autocompleteObjectValidator(),r.kI.required]}),this.projectControl=new r.NI("",{validators:[this.autocompleteObjectValidator(),r.kI.required]}),this.ATimeAddParentControl=new r.NI,this.ATimeAddForm=this.formBuilder.group({tiaId:[""],emId:["",r.kI.compose([r.kI.required])],proId:["",r.kI.compose([r.kI.required])],tiaFrom:["",r.kI.compose([r.kI.required])],tiaTo:["",r.kI.compose([r.kI.required])]})}ngOnInit(){this.getallEmployee(),this.getAllATimeAdd(),this.getallProject()}_filterEmployee(t){const i=null==t?void 0:t.toLowerCase();return this.employee.filter(a=>null==a?void 0:a.emName.toLowerCase().includes(i))}displayEmployees(t){return t&&t.emName?t.emName:""}onchangeEmployee(t,i){t.source.selected&&this.ATimeAddForm.controls.emId.setValue(i.emId)}getallEmployee(){this.preventAbuse=!0,this.dataService.get("TEmployee/getAllNoParam").subscribe(t=>{this.employee=t,this.EmployeeOptions=this.EmployeeControl.valueChanges.pipe((0,C.O)(""),(0,h.U)(i=>null==i||"string"==typeof i?i:i.emName),(0,h.U)(i=>i?this._filterEmployee(i):this.employee.slice()))},t=>{this.translateService.get("messageSystem.loadFail").subscribe(i=>c.Q.GET_FAILSE_MSG=i),this.notificationService.printErrorMessage(c.Q.GET_FAILSE_MSG)}),this.preventAbuse=!1}_filterProject(t){const i=null==t?void 0:t.toLowerCase();return this.project.filter(a=>null==a?void 0:a.proName.toLowerCase().includes(i))}displayProject(t){return t&&t.proName?t.proName:""}onchangeProject(t,i){t.source.selected&&this.ATimeAddForm.controls.proId.setValue(i.proId)}getallProject(){this.preventAbuse=!0,this.dataService.get("AProject/getall").subscribe(t=>{this.project=t,this.projectOptions=this.projectControl.valueChanges.pipe((0,C.O)(""),(0,h.U)(i=>null==i||"string"==typeof i?i:i.proName),(0,h.U)(i=>i?this._filterProject(i):this.project.slice()))},t=>{this.translateService.get("messageSystem.loadFail").subscribe(i=>c.Q.GET_FAILSE_MSG=i),this.notificationService.printErrorMessage(c.Q.GET_FAILSE_MSG)}),this.preventAbuse=!1}openDialog(t,i,a){if(this.action=t,"create"==t)this.translateService.get("aTimeAddModule.createMessage").subscribe(d=>this.title=d);else{this.translateService.get("aTimeAddModule.editMessage").subscribe(u=>this.title=u),this.ATimeAddForm.controls.tiaId.setValue(i.tiaId);let d=this.dataSource.filteredData.filter(u=>u.tiaId==i.tiaId)[0];this.ATimeAddForm.controls.emId.setValue(d.emId),this.ATimeAddForm.controls.proId.setValue(d.proId),this.ATimeAddForm.controls.tiaFrom.setValue(d.tiaFrom),this.ATimeAddForm.controls.tiaTo.setValue(d.tiaTo);let p=this.employee.filter(u=>u.emId==i.emId)[0];this.EmployeeControl.setValue(p);let Oe=this.project.filter(u=>u.proId==i.proId)[0];this.projectControl.setValue(Oe)}const s=this.dialog.open(this.dialogTemplate,{width:"650px"});s.disableClose=!0,s.afterClosed().subscribe(d=>{this.onReset()})}getAllATimeAdd(){this.preventAbuse=!0,this.dataService.get("ATimeAdd/getlistpaging?page="+this.page+"&pageSize="+this.pageSize+"&keyword="+this.keyword).subscribe(t=>{this.dataSource=new m.by(t.items),this.dataSource.sort=this.sort,this.totalRow=t.totalCount},t=>{this.translateService.get("messageSystem.loadFail").subscribe(i=>c.Q.GET_FAILSE_MSG=i),this.notificationService.printErrorMessage(c.Q.GET_FAILSE_MSG)}),this.preventAbuse=!1}applyFilter(t){this.keyword=t.target.value,this.page=0,this.getAllATimeAdd(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}autocompleteObjectValidator(){return t=>"string"==typeof t.value?{invalidAutocompleteObject:{value:t.value}}:null}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}get getValidForm(){return this.ATimeAddForm.controls}addData(){if(!this.EmployeeControl.invalid&&!this.projectControl.invalid&&!this.ATimeAddForm.invalid){if(this.preventAbuse=!0,"create"==this.action){let t={emId:this.ATimeAddForm.controls.emId.value,proId:this.ATimeAddForm.controls.proId.value,tiaFrom:this.ATimeAddForm.controls.tiaFrom.value,tiaTo:this.ATimeAddForm.controls.tiaTo.value};if(t.tiaFrom>t.tiaTo){let i;this.translateService.get("aTimeAddModule.checkTime").subscribe(a=>i=a),this.notificationService.printErrorMessage(i)}else this.dataService.post("ATimeAdd/create",t).subscribe(i=>{let a;this.translateService.get("messageSystem.createSuccess").subscribe(s=>a=s),this.notificationService.printSuccessMessage(a),this.getAllATimeAdd(),this.dialog.closeAll(),this.onReset()},i=>{let a;this.translateService.get("aTimeAddModule.checkpro").subscribe(s=>a=s),this.notificationService.printErrorMessage(a)})}else if("edit"==this.action){let t=this.ATimeAddForm.value;if(t.tiaFrom>t.tiaTo){let i;this.translateService.get("aTimeAddModule.checkTime").subscribe(a=>i=a),this.notificationService.printErrorMessage(i)}else this.dataService.put("ATimeAdd/update",t).subscribe(i=>{let a;this.translateService.get("messageSystem.updateSuccess").subscribe(s=>a=s),this.notificationService.printSuccessMessage(a),this.getAllATimeAdd(),this.dialog.closeAll(),this.onReset()},i=>{let a;this.translateService.get("aTimeAddModule.checkpro").subscribe(s=>a=s),this.notificationService.printErrorMessage(a)})}this.onReset(),this.preventAbuse=!1}}onReset(){this.dialog.closeAll(),this.EmployeeControl.reset(),this.projectControl.reset(),this.ATimeAddForm.reset()}removeData(){let t=[];this.selection.selected.forEach(i=>{t.push(i.tiaId)}),this.translateService.get("messageSystem.confirmDelete").subscribe(i=>c.Q.CONFIRM_DELETE_MSG=i),this.notificationService.printConfirmationDialog(c.Q.CONFIRM_DELETE_MSG,()=>this.deleteItemConfirm(JSON.stringify(t)))}deleteItemConfirm(t){this.preventAbuse=!0,this.dataService.delete("ATimeAdd/deletemulti","checkedList",t).subscribe(i=>{this.translateService.get("messageSystem.deleteSuccess").subscribe(a=>c.Q.DELETED_OK_MSG=a),this.notificationService.printSuccessMessage(c.Q.DELETED_OK_MSG),this.selection.clear(),this.getAllATimeAdd()},i=>{this.translateService.get("messageSystem.deletefail").subscribe(a=>c.Q.DELETE_FAILSE_MSG=a),this.notificationService.printErrorMessage(c.Q.DELETE_FAILSE_MSG)}),this.preventAbuse=!1}ngAfterViewInit(){this.paginator._intl.itemsPerPageLabel=this.pagin.setLable,this.paginator._intl.firstPageLabel=this.pagin.firstButton,this.paginator._intl.nextPageLabel=this.pagin.nextButton,this.paginator._intl.lastPageLabel=this.pagin.lastButton,this.paginator._intl.previousPageLabel=this.pagin.preButton}onChangePage(t){this.page=t.pageIndex,this.pageSize=t.pageSize,this.getAllATimeAdd()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z.D),e.Y36(A.uw),e.Y36(v.g),e.Y36(b.d),e.Y36(y.sK),e.Y36(r.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-a-timeadd"]],viewQuery:function(t,i){if(1&t&&(e.Gf(x.NW,5),e.Gf(L.YE,5),e.Gf(D,5)),2&t){let a;e.iGM(a=e.CRH())&&(i.paginator=a.first),e.iGM(a=e.CRH())&&(i.sort=a.first),e.iGM(a=e.CRH())&&(i.dialogTemplate=a.first)}},decls:29,vars:18,consts:[["color","red"],["progressBar",""],["color","primary"],["fxLayout.xl","row","fxLayout.lg","row","fxLayout.md","row","fxLayout.xs","column"],["fxFlex","","fxLayoutAlign","satrt center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["color","warn","mat-raised-button","",3,"disabled","click",4,"ngIf"],["fxFlex",""],["appearance","standard","ngClass.md","width100"],["matInput","",3,"placeholder","keyup"],["inputSearch",""],["class","mat-elevation-z8 table-container",4,"ngIf"],["dialog",""],["mat-raised-button","","color","primary",3,"click"],["color","warn","mat-raised-button","",3,"disabled","click"],[1,"mat-elevation-z8","table-container"],[1,"res-table-container"],["mat-table","","matSort","",1,"example-table",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","checkbox-col",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","emName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","emCode"],["matColumnDef","emGender"],["matColumnDef","emBirthdate"],["matColumnDef","proName"],["matColumnDef","regName"],["matColumnDef","depName"],["matColumnDef","tiaFrom"],["matColumnDef","tiaTo"],["matColumnDef","action","stickyEnd",""],["mat-header-cell","","class","action-col",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","pageSize","showFirstLastButtons","","aria-label","Select page of appRoles elements",3,"pageSizeOptions","pageIndex","length","disabled","page"],["mat-header-cell","",1,"checkbox-col"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","",1,"action-col"],["href","javascript:void(0)","color","primary",3,"matTooltip","click",4,"ngIf"],["href","javascript:void(0)","color","primary",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""],["action","",3,"formGroup","submit"],["mat-dialog-title",""],[1,"mat-typography"],["appearance","outline"],["invalidAutocompleteString","","type","text","aria-label","","matInput","",3,"placeholder","formControl","matAutocomplete"],["type","button","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"displayWith"],["autoEmployee","matAutocomplete"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[4,"ngIf"],["autoProject","matAutocomplete"],["type","datetime-local","matInput","","formControlName","tiaFrom","required","",3,"placeholder"],["type","datetime-local","matInput","","formControlName","tiaTo","required","",3,"placeholder"],["align","center"],["mat-stroked-button","","color","warn","mat-dialog-close","",3,"click"],["mat-stroked-button","","color","primary","type","submit",3,"disabled"],["type","button","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value","onSelectionChange"]],template:function(t,i){1&t&&(e._UZ(0,"ng-progress",0,1),e.TgZ(2,"mat-card"),e.TgZ(3,"div"),e.TgZ(4,"mat-card-title",2),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"mat-divider"),e._UZ(8,"br"),e._UZ(9,"br"),e.TgZ(10,"div",3),e.TgZ(11,"div",4),e.YNc(12,J,3,3,"button",5),e.ALo(13,"userRoles"),e.YNc(14,w,3,4,"button",6),e.ALo(15,"userRoles"),e.qZA(),e._UZ(16,"div",7),e.TgZ(17,"div",7),e.TgZ(18,"mat-form-field",8),e.TgZ(19,"mat-label"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",9,10),e.NdJ("keyup",function(s){return i.applyFilter(s)}),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(25,he,42,8,"div",11),e.ALo(26,"userRoles"),e.qZA(),e.YNc(27,Ne,52,55,"ng-template",null,12,e.W1O)),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,6,"aTimeAddModule.title")),e.xp6(7),e.Q6J("ngIf",e.lcZ(13,8,"CreateATimeAdd")),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,10,"DeleteATimeAdd")),e.xp6(6),e.hij(" ",e.lcZ(21,12,"button.searchButton"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(24,14,"button.searchPlaceholder")),e.xp6(3),e.Q6J("ngIf",e.lcZ(26,16,"ViewATimeAdd")))},directives:[S.Yh,N.a8,N.n5,I.d,T.xw,T.yH,T.Wh,_.O5,g.KE,F.oO,g.hX,O.Nt,U.lW,m.BZ,m.w1,m.fO,m.Dz,m.as,m.nj,x.NW,m.ge,Q.oG,m.ev,k.gM,Y.Hw,m.XQ,m.Gk,r._Y,r.JL,r.sg,A.uh,A.xY,r.Fj,q.ZL,r.JJ,r.oH,q.XC,_.sg,r.u,r.Q7,A.H8,A.ZT,g.R9,j.ey,g.TO],pipes:[y.X$,E.v,_.uU,_.Ov],styles:[""]}),o})();var Ee=l(4382),Me=l(8576),Le=l(4646);const Ie=[{path:"",component:qe}];let Fe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[Z.D,v.g,b.d],imports:[[_.ez,Me.q,E.a,Ee.Bz.forChild(Ie),S.Q8.withConfig({spinnerPosition:"right",color:"#red"}),Le.bj]]}),o})()}}]);