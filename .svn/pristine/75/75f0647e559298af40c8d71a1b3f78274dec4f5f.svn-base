"use strict";(self.webpackChunkAIOAcessControl_WebApp=self.webpackChunkAIOAcessControl_WebApp||[]).push([[7560],{7560:(mt,u,a)=>{a.r(u),a.d(u,{EmployeeStatisticModule:()=>nt});var m=a(6019),T=a(4382),g=a(8977),v=a(2262),s=a(4176),p=a(9839),t=a(3668),f=a(2300),r=a(9133),h=a(9594),_=a(6765),x=a(563),y=a(6154),Z=a(888),A=a(5694),d=a(5243),S=a(8167),E=a(6400),N=a(6731),b=a(86),C=a(9711);function U(e,o){if(1&e&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.depId),t.xp6(1),t.hij(" ",i.depName," ")}}function q(e,o){if(1&e&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.regId),t.xp6(1),t.hij(" ",i.regName," ")}}function L(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){return t.CHM(i),t.oxw().loadData()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"button.statisticButton")," "))}function M(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){return t.CHM(i),t.oxw().Refresh()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"button.refeshButton")," "))}function O(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){return t.CHM(i),t.oxw().exportExcel()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&e){const i=t.oxw();t.Q6J("disabled",i.disableButton),t.xp6(1),t.hij(" ",t.lcZ(2,2,"button.exportButton")," ")}}function I(e,o){1&e&&(t.TgZ(0,"th",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"button.positionCol")))}function Y(e,o){if(1&e&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&e){const i=o.index,n=t.oxw(2);t.xp6(1),t.Oqu(i+1+n.page*n.pageSize)}}function D(e,o){1&e&&(t.TgZ(0,"th",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"employeeStatisticModule.emNameCol")))}function Q(e,o){if(1&e&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.emName)}}function B(e,o){1&e&&(t.TgZ(0,"th",39),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"employeeStatisticModule.emCodeCol")))}function R(e,o){if(1&e&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.emCode)}}function J(e,o){1&e&&(t.TgZ(0,"th",39),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"employeeStatisticModule.emGenderCol")))}function w(e,o){if(1&e&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu("M"==i.emGender?"Nam":"N\u1eef")}}function z(e,o){1&e&&(t.TgZ(0,"th",39),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"employeeStatisticModule.emBirthdateCol")," "))}function F(e,o){if(1&e&&(t.TgZ(0,"td",40),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,i.emBirthdate,"dd-MM-yyyy"))}}function G(e,o){1&e&&(t.TgZ(0,"th",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"employeeStatisticModule.depNameCol")))}function H(e,o){if(1&e&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.depName)}}function P(e,o){1&e&&(t.TgZ(0,"th",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"employeeStatisticModule.regNameCol")))}function $(e,o){if(1&e&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.regName)}}function j(e,o){1&e&&(t.TgZ(0,"th",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"employeeStatisticModule.emAddressCol")))}function X(e,o){if(1&e&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.emAddress)}}function W(e,o){1&e&&(t.TgZ(0,"th",39),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"employeeStatisticModule.emPhoneCol")))}function k(e,o){if(1&e&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Oqu(i.emPhone)}}function V(e,o){1&e&&t._UZ(0,"tr",41)}function K(e,o){1&e&&t._UZ(0,"tr",42)}function tt(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",18),t.TgZ(1,"div",19),t.TgZ(2,"table",20),t.ynx(3,21),t.YNc(4,I,3,3,"th",22),t.YNc(5,Y,2,1,"td",23),t.BQk(),t.ynx(6,24),t.YNc(7,D,3,3,"th",22),t.YNc(8,Q,2,1,"td",23),t.BQk(),t.ynx(9,25),t.YNc(10,B,3,3,"th",26),t.YNc(11,R,2,1,"td",27),t.BQk(),t.ynx(12,28),t.YNc(13,J,3,3,"th",26),t.YNc(14,w,2,1,"td",27),t.BQk(),t.ynx(15,29),t.YNc(16,z,3,3,"th",26),t.YNc(17,F,3,4,"td",27),t.BQk(),t.ynx(18,30),t.YNc(19,G,3,3,"th",22),t.YNc(20,H,2,1,"td",23),t.BQk(),t.ynx(21,31),t.YNc(22,P,3,3,"th",22),t.YNc(23,$,2,1,"td",23),t.BQk(),t.ynx(24,32),t.YNc(25,j,3,3,"th",22),t.YNc(26,X,2,1,"td",23),t.BQk(),t.ynx(27,33),t.YNc(28,W,3,3,"th",26),t.YNc(29,k,2,1,"td",27),t.BQk(),t.YNc(30,V,1,0,"tr",34),t.YNc(31,K,1,0,"tr",35),t.qZA(),t.TgZ(32,"mat-paginator",36),t.NdJ("page",function(l){return t.CHM(i),t.oxw().onChangePage(l)}),t.qZA(),t.qZA(),t.qZA()}if(2&e){const i=t.oxw();t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",i.pageSizeOptions)("pageIndex",i.page)("length",i.totalRow)("disabled",!1)}}let et=(()=>{class e{constructor(i,n,l,c,lt,st){this.dataService=i,this.formBuilder=n,this.notificationService=l,this.pagin=c,this.translateService=lt,this.datePipe=st,this.displayedColumns=["position","emName","emCode","emGender","emBirthdate","depName","regName","emAddress","emPhone"],this.dataSource=new s.by,this.pageSizeOptions=[10,25,50,100],this.pageSize=this.pageSizeOptions[0],this.page=0,this.totalRow=0,this.totalPage=0,this.disableButton=!0,this.fillterName="",this.depId=0,this.regId=0,this.showList=!1}ngOnInit(){this.getTDepartment(),this.getTRegency()}getTDepartment(){this.dataService.get("TDepartment/getall").subscribe(i=>{this.tdepartment=i},i=>{})}getTRegency(){this.dataService.get("TRegency/getall").subscribe(i=>{this.tregency=i},i=>{})}Refresh(){this.fillterName="",this.regId=0,this.depId=0,this.showList=!1}loadData(){this.dataService.get("EmployeeStatistic/GetAllPaging?depid="+this.depId+"&regid="+this.regId+"&page="+this.page+"&pageSize="+this.pageSize).subscribe(i=>{if(this.data=i.items,0==this.data.length)return this.showList=!1,this.Refresh(),this.translateService.get("messageSystem.staticsNull").subscribe(n=>p.Q.STATISTIC_NULL=n),void this.notificationService.printErrorMessage(p.Q.STATISTIC_NULL);this.data.length>0&&(this.showList=!0,this.disableButton=!1,this.dataSource=this.data,this.dataSource.sort=this.sort,this.totalRow=i.totalCount)},i=>{}),this.loadDataExport()}loadDataExport(){this.dataService.get("EmployeeStatistic/GetAll?depid="+this.depId+"&regid"+this.regId).subscribe(i=>{this.dataExports=i},i=>{})}exportExcel(){this.dataService.post("EmployeeStatistic/ExportXls",this.dataExports).subscribe(i=>{window.location.href=i.result},i=>{this.translateService.get("messageSystem.exportExcelFail").subscribe(n=>p.Q.EXPORT_FAILSE_MSG=n),this.notificationService.printErrorMessage(p.Q.EXPORT_FAILSE_MSG)})}onChangePage(i){this.page=i.pageIndex,this.pageSize=i.pageSize,this.loadData()}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(f.D),t.Y36(r.qu),t.Y36(h.g),t.Y36(_.d),t.Y36(x.sK),t.Y36(m.uU))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-employee-statistic"]],viewQuery:function(i,n){if(1&i&&(t.Gf(g.NW,5),t.Gf(v.YE,5)),2&i){let l;t.iGM(l=t.CRH())&&(n.paginator=l.first),t.iGM(l=t.CRH())&&(n.sort=l.first)}},decls:36,vars:25,consts:[["color","red"],["progressBar",""],["color","primary"],["fxLayout.xl","row","fxLayout.lg","row","fxLayout.md","column","fxLayout.xs","column"],["fxFlex",""],["fxFlex","",2,"margin","5px"],["appearance","outline"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","","fxLayoutAlign","center center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["class","mat-elevation-z8 table-container",4,"ngIf"],[3,"value"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"mat-elevation-z8","table-container"],[1,"res-table-container"],["mat-table","","matSort","",1,"example-table",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","emName"],["matColumnDef","emCode"],["mat-header-cell","","style","text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["matColumnDef","emGender"],["matColumnDef","emBirthdate"],["matColumnDef","depName"],["matColumnDef","regName"],["matColumnDef","emAddress"],["matColumnDef","emPhone"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","pageSize","showFirstLastButtons","","aria-label","Select page of employeeStatisticModule elements",3,"pageSizeOptions","pageIndex","length","disabled","page"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"text-align","center"],["mat-cell","",2,"text-align","center"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(t._UZ(0,"ng-progress",0,1),t.TgZ(2,"mat-card"),t.TgZ(3,"div"),t.TgZ(4,"mat-card-title",2),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"mat-divider"),t._UZ(8,"br"),t._UZ(9,"br"),t.TgZ(10,"div",3),t._UZ(11,"div",4),t.TgZ(12,"div",5),t.TgZ(13,"mat-form-field",6),t.TgZ(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"mat-select",7),t.NdJ("ngModelChange",function(c){return n.depId=c}),t.YNc(18,U,2,2,"mat-option",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",5),t.TgZ(20,"mat-form-field",6),t.TgZ(21,"mat-label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"mat-select",7),t.NdJ("ngModelChange",function(c){return n.regId=c}),t.YNc(25,q,2,2,"mat-option",8),t.qZA(),t.qZA(),t.qZA(),t._UZ(26,"div",4),t.qZA(),t.TgZ(27,"div",9),t.YNc(28,L,3,3,"button",10),t.ALo(29,"userRoles"),t.YNc(30,M,3,3,"button",11),t.ALo(31,"userRoles"),t.YNc(32,O,3,4,"button",12),t.ALo(33,"userRoles"),t.qZA(),t.YNc(34,tt,33,8,"div",13),t.ALo(35,"userRoles"),t.qZA(),t.qZA()),2&i&&(t.xp6(5),t.Oqu(t.lcZ(6,11,"employeeStatisticModule.title")),t.xp6(10),t.Oqu(t.lcZ(16,13,"employeeStatisticModule.depNameCol")),t.xp6(2),t.Q6J("ngModel",n.depId),t.xp6(1),t.Q6J("ngForOf",n.tdepartment),t.xp6(4),t.Oqu(t.lcZ(23,15,"employeeStatisticModule.regNameCol")),t.xp6(2),t.Q6J("ngModel",n.regId),t.xp6(1),t.Q6J("ngForOf",n.tregency),t.xp6(3),t.Q6J("ngIf",t.lcZ(29,17,"ViewEmployeeStatistic")),t.xp6(2),t.Q6J("ngIf",t.lcZ(31,19,"ViewEmployeeStatistic")),t.xp6(2),t.Q6J("ngIf",t.lcZ(33,21,"ExportEmployeeStatistic")),t.xp6(2),t.Q6J("ngIf",t.lcZ(35,23,n.showList&&"ViewEmployeeStatistic")))},directives:[y.Yh,Z.a8,Z.n5,A.d,d.xw,d.yH,S.KE,S.hX,E.gD,r.JJ,r.On,m.sg,d.Wh,m.O5,N.ey,b.lW,s.BZ,s.w1,s.fO,s.Dz,s.as,s.nj,g.NW,s.ge,s.ev,s.XQ,s.Gk],pipes:[x.X$,C.v,m.uU],styles:[""]}),e})();var it=a(4646),ot=a(8576);const at=[{path:"",component:et}];let nt=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[f.D,h.g,_.d,m.uU],imports:[[m.ez,ot.q,C.a,T.Bz.forChild(at),y.Q8.withConfig({spinnerPosition:"right",color:"#red"}),it.bj]]}),e})()}}]);