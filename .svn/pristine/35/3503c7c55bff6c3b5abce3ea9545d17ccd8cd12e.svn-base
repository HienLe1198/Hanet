"use strict";(self.webpackChunkAIOAcessControl_WebApp=self.webpackChunkAIOAcessControl_WebApp||[]).push([[3946],{3946:(P,u,l)=>{l.r(u),l.d(u,{SyncModule:()=>K});var Z=l(8576),p=l(6154),x=l(4382),h=l(6019),S=l(2262),A=l(5351),i=l(4176),f=l(9839),e=l(3668),_=l(2300),C=l(5304),T=l(9594),b=l(6765),y=l(563),N=l(9133),v=l(888),L=l(5694),r=l(5243),U=l(86),g=l(8167),Y=l(5498),D=l(138),Q=l(904),M=l(9711);function E(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"th",28),e.TgZ(1,"mat-checkbox",29),e.NdJ("change",function(c){e.CHM(n);const s=e.oxw(2);return c?s.masterToggle():null}),e.qZA(),e.qZA()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())("aria-label",n.checkboxLabel())}}function k(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"td",30),e.TgZ(1,"mat-checkbox",31),e.NdJ("click",function(c){return c.stopPropagation()})("change",function(c){const d=e.CHM(n).$implicit,m=e.oxw(2);return c?m.selection.toggle(d):null}),e.qZA(),e.qZA()}if(2&t){const n=o.$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("checked",a.selection.isSelected(n))("aria-label",a.checkboxLabel(n))}}function q(t,o){1&t&&(e.TgZ(0,"th",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.positionCol")))}function O(t,o){if(1&t&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&t){const n=o.index;e.xp6(1),e.Oqu(n+1)}}function w(t,o){1&t&&(e.TgZ(0,"th",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"syncModule.employeNameCol")," "))}function J(t,o){if(1&t&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Oqu(n.emName)}}function R(t,o){1&t&&(e.TgZ(0,"th",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"syncModule.employeCode")," "))}function j(t,o){if(1&t&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Oqu(n.emCode)}}function B(t,o){1&t&&(e.TgZ(0,"th",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"syncModule.employeeDepCol")," "))}function F(t,o){if(1&t&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Oqu(n.depName)}}function H(t,o){1&t&&(e.TgZ(0,"th",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"syncModule.employeeRegCol")," "))}function $(t,o){if(1&t&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Oqu(n.regName)}}function G(t,o){1&t&&(e.TgZ(0,"th",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"syncModule.employeeGroupAccessCol")," "))}function I(t,o){if(1&t&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Oqu(n.gaName)}}function z(t,o){1&t&&e._UZ(0,"tr",34)}function W(t,o){1&t&&e._UZ(0,"tr",35)}function X(t,o){if(1&t&&(e.TgZ(0,"div",12),e.TgZ(1,"div",13),e.TgZ(2,"table",14),e.ynx(3,15),e.YNc(4,E,2,3,"th",16),e.YNc(5,k,2,2,"td",17),e.BQk(),e.ynx(6,18),e.YNc(7,q,3,3,"th",19),e.YNc(8,O,2,1,"td",17),e.BQk(),e.ynx(9,20),e.YNc(10,w,3,3,"th",21),e.YNc(11,J,2,1,"td",17),e.BQk(),e.ynx(12,22),e.YNc(13,R,3,3,"th",21),e.YNc(14,j,2,1,"td",17),e.BQk(),e.ynx(15,23),e.YNc(16,B,3,3,"th",21),e.YNc(17,F,2,1,"td",17),e.BQk(),e.ynx(18,24),e.YNc(19,H,3,3,"th",21),e.YNc(20,$,2,1,"td",17),e.BQk(),e.ynx(21,25),e.YNc(22,G,3,3,"th",21),e.YNc(23,I,2,1,"td",17),e.BQk(),e.YNc(24,z,1,0,"tr",26),e.YNc(25,W,1,0,"tr",27),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("dataSource",n.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns)}}const V=[{path:"",component:(()=>{class t{constructor(n,a,c,s,d,m){this.dataService=n,this.dialog=a,this.notificationService=c,this.pagin=s,this.translateService=d,this.formBuilder=m,this.dataSource=new i.by,this.preventAbuse=!1,this.selection=new A.Ov(!0,[]),this.displayedColumns=["select","position","emName","emCode","depName","regName","gaName"],this.keyword=""}ngOnInit(){this.loadEmployeeEditStatus()}syncAll(){let n="";this.translateService.get("messageSystem.confirmSyncAll").subscribe(a=>n=a),this.notificationService.printConfirmationDialog(n,()=>this.confirmSyncAll())}confirmSyncAll(){this.dataService.postDeviceReturnFile("idemiadevice/syncall",{observe:"response",responseType:"blob"}).subscribe(n=>{let c=n.body,s=document.createElement("a");s.download="SyncAllLog.txt",s.href=window.URL.createObjectURL(c),s.click()},n=>{this.notificationService.printErrorMessage(n.message)})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(n){return n?`${this.selection.isSelected(n)?"deselect":"select"} row ${n.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}loadEmployeeEditStatus(){this.preventAbuse=!0,this.dataService.get("Sync/GetEmployeeEditStatus?keyword="+this.keyword).subscribe(n=>{this.dataSource=new i.by(n),this.dataSource.sort=this.sort,this.preventAbuse=!1},n=>{this.translateService.get("messageSystem.loadFail").subscribe(a=>f.Q.GET_FAILSE_MSG=a),this.notificationService.printErrorMessage(f.Q.GET_FAILSE_MSG),this.preventAbuse=!1})}applyFilter(n){this.keyword=n.target.value,this.loadEmployeeEditStatus()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.D),e.Y36(C.uw),e.Y36(T.g),e.Y36(b.d),e.Y36(y.sK),e.Y36(N.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sync"]],viewQuery:function(n,a){if(1&n&&e.Gf(S.YE,5),2&n){let c;e.iGM(c=e.CRH())&&(a.sort=c.first)}},decls:35,vars:28,consts:[["color","red"],["progressBar",""],["color","primary"],["fxLayout.xl","row","fxLayout.lg","row","fxLayout.md","row","fxLayout.xs","column"],["fxFlex","","fxLayoutAlign","start center"],["mat-raised-button","","color","primary",3,"disabled"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxFlex",""],["appearance","standard","ngClass.md","width100"],["matInput","",3,"placeholder","keyup"],["inputSearch",""],["class","mat-elevation-z8 table-container",4,"ngIf"],[1,"mat-elevation-z8","table-container"],[1,"res-table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","checkbox-col",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","emName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","emCode"],["matColumnDef","depName"],["matColumnDef","regName"],["matColumnDef","gaName"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"checkbox-col"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""]],template:function(n,a){1&n&&(e._UZ(0,"ng-progress",0,1),e.TgZ(2,"mat-card"),e.TgZ(3,"div"),e.TgZ(4,"mat-card-title",2),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"mat-divider"),e._UZ(8,"br"),e._UZ(9,"br"),e.TgZ(10,"div",3),e.TgZ(11,"div",4),e.TgZ(12,"button",5),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"button",5),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"button",6),e.NdJ("click",function(){return a.syncAll()}),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"button",5),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.qZA(),e._UZ(24,"div",7),e.TgZ(25,"div",7),e.TgZ(26,"mat-form-field",8),e.TgZ(27,"mat-label"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"input",9,10),e.NdJ("keyup",function(s){return a.applyFilter(s)}),e.ALo(32,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(33,X,26,4,"div",11),e.ALo(34,"userRoles"),e.qZA()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,12,"syncModule.title")),e.xp6(7),e.Q6J("disabled",a.preventAbuse),e.xp6(1),e.hij(" ",e.lcZ(14,14,"syncModule.btnAdditionalSyncAll")," "),e.xp6(2),e.Q6J("disabled",a.preventAbuse),e.xp6(1),e.hij(" ",e.lcZ(17,16,"syncModule.btnSearchOnDevice")," "),e.xp6(2),e.Q6J("disabled",a.preventAbuse),e.xp6(1),e.hij(" ",e.lcZ(20,18,"syncModule.btnSyncAll")," "),e.xp6(2),e.Q6J("disabled",a.preventAbuse),e.xp6(1),e.hij(" ",e.lcZ(23,20,"syncModule.btnSyncTA")," "),e.xp6(6),e.hij(" ",e.lcZ(29,22,"button.searchButton"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(32,24,"button.searchPlaceholder")),e.xp6(3),e.Q6J("ngIf",e.lcZ(34,26,"ViewAZone")))},directives:[p.Yh,v.a8,v.n5,L.d,r.xw,r.yH,r.Wh,U.lW,g.KE,Y.oO,g.hX,D.Nt,h.O5,i.BZ,i.w1,i.fO,i.Dz,i.as,i.nj,i.ge,Q.oG,i.ev,i.XQ,i.Gk],pipes:[y.X$,M.v],styles:[""]}),t})()}];let K=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[h.ez,x.Bz.forChild(V),p.Q8,Z.q]]}),t})()}}]);