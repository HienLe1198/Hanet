"use strict";(self.webpackChunkAIOAcessControl_WebApp=self.webpackChunkAIOAcessControl_WebApp||[]).push([[9933],{9933:(ot,h,o)=>{o.r(h),o.d(h,{EmComingBuildingStatisticModule:()=>it});var d=o(6019),v=o(4382),r=o(8977),B=o(2262),m=o(4176),g=o(9839),t=o(3668),C=o(2300),c=o(9133),f=o(9594),u=o(6765),Z=o(563),x=o(6154),S=o(888),A=o(5694),p=o(5243),_=o(8167),E=o(6400),y=o(138),b=o(6731),N=o(86),T=o(9711);function M(i,n){if(1&i&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.depId),t.xp6(1),t.hij(" ",e.depName," ")}}function D(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw().loadData()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"button.statisticButton")," "))}function I(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().Refresh()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"button.refeshButton")," "))}function L(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){return t.CHM(e),t.oxw().exportExcel()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("disabled",e.disableButton),t.xp6(1),t.hij(" ",t.lcZ(2,2,"button.exportButton")," ")}}function U(i,n){1&i&&(t.TgZ(0,"th",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"button.positionCol")))}function q(i,n){if(1&i&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&i){const e=n.index,a=t.oxw(2);t.xp6(1),t.Oqu(e+1+a.page*a.pageSize)}}function Q(i,n){1&i&&(t.TgZ(0,"th",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"emComingBuildingStatisticModule.emNameCol")))}function Y(i,n){if(1&i&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.emName)}}function O(i,n){1&i&&(t.TgZ(0,"th",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"emComingBuildingStatisticModule.emCodeCol"),""))}function F(i,n){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.emCode)}}function w(i,n){1&i&&(t.TgZ(0,"th",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"emComingBuildingStatisticModule.emGenderCol")," "))}function J(i,n){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu("M"==e.emGender?"Nam":"N\u1eef")}}function R(i,n){1&i&&(t.TgZ(0,"th",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"emComingBuildingStatisticModule.depNameCol")," "))}function z(i,n){if(1&i&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.depName)}}function j(i,n){1&i&&(t.TgZ(0,"th",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"emComingBuildingStatisticModule.cardNumberCol")," "))}function G(i,n){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.caNumber)}}function H(i,n){1&i&&(t.TgZ(0,"th",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"emComingBuildingStatisticModule.emIdentityNumber"),""))}function P(i,n){if(1&i&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.emIdentityNumber)}}function $(i,n){1&i&&t._UZ(0,"tr",39)}function X(i,n){1&i&&t._UZ(0,"tr",40)}function W(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",18),t.TgZ(1,"div",19),t.TgZ(2,"table",20),t.ynx(3,21),t.YNc(4,U,3,3,"th",22),t.YNc(5,q,2,1,"td",23),t.BQk(),t.ynx(6,24),t.YNc(7,Q,3,3,"th",22),t.YNc(8,Y,2,1,"td",23),t.BQk(),t.ynx(9,25),t.YNc(10,O,3,3,"th",26),t.YNc(11,F,2,1,"td",27),t.BQk(),t.ynx(12,28),t.YNc(13,w,3,3,"th",26),t.YNc(14,J,2,1,"td",27),t.BQk(),t.ynx(15,29),t.YNc(16,R,3,3,"th",22),t.YNc(17,z,2,1,"td",23),t.BQk(),t.ynx(18,30),t.YNc(19,j,3,3,"th",26),t.YNc(20,G,2,1,"td",27),t.BQk(),t.ynx(21,31),t.YNc(22,H,3,3,"th",26),t.YNc(23,P,2,1,"td",27),t.BQk(),t.YNc(24,$,1,0,"tr",32),t.YNc(25,X,1,0,"tr",33),t.qZA(),t.TgZ(26,"mat-paginator",34),t.NdJ("page",function(l){return t.CHM(e),t.oxw().onChangePage(l)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",e.pageSizeOptions)("pageIndex",e.page)("length",e.totalRow)("disabled",!1)}}let V=(()=>{class i{constructor(e,a,l,s,et,nt){this.dataService=e,this.formBuilder=a,this.notificationService=l,this.pagin=s,this.translateService=et,this.datePipe=nt,this.customPaginatorIntl=new r.ye,this.displayedColumns=["position","emName","emCode","emGender","depName","caNumber","emIdentityNumber"],this.dataSource=new m.by,this.pageSizeOptions=[10,25,50,100],this.pageSize=this.pageSizeOptions[0],this.page=0,this.disableButton=!0,this.keyword="",this.totalRow=0,this.totalPage=0,this.preventAbuse=!1,this.dateFrom=this.datePipe.transform(new Date,"yyyy-MM-dd"),this.dateTo=this.datePipe.transform(new Date,"yyyy-MM-dd"),this.showList=!1}ngOnInit(){this.getTDepartment()}getTDepartment(){this.dataService.get("TDepartment/getall").subscribe(e=>{this.tdepartment=e},e=>{})}Refresh(){this.dateFrom=this.datePipe.transform(new Date,"yyyy-MM-dd"),this.dateTo=this.datePipe.transform(new Date,"yyyy-MM-dd"),this.depId=null,this.disableButton=!0,this.showList=!1}loadData(){null==this.depId&&(this.depId=""),this.dataService.get("EmployeeComingBuildingStatistic/GetAllbyPaging?dateFrom="+this.dateFrom+"&dateTo="+this.dateTo+"&DepId="+this.depId+"&page="+this.page+"&pageSize="+this.pageSize).subscribe(e=>{if(this.data=e.items,0==this.data.length)return this.showList=!1,this.Refresh(),this.translateService.get("messageSystem.staticsNull").subscribe(a=>g.Q.STATISTIC_NULL=a),void this.notificationService.printErrorMessage(g.Q.STATISTIC_NULL);this.data.length>0&&(this.showList=!0,this.disableButton=!1,this.dataSource=this.data,this.dataSource.sort=this.sort,this.totalRow=e.totalCount)},e=>{}),this.loadDataExport()}loadDataExport(){this.dataService.get("EmployeeComingBuildingStatistic/GetAll?dateFrom="+this.dateFrom+"&dateTo="+this.dateTo+"&DepId="+this.depId).subscribe(e=>{this.dataExports=e},e=>{})}exportExcel(){this.dataService.post("EmployeeComingBuildingStatistic/ExportXls",{dateFrom:this.dateFrom,dateTo:this.dateTo,data:this.dataExports}).subscribe(a=>{window.location.href=a.result},a=>{this.translateService.get("messageSystem.exportExcelFail").subscribe(l=>g.Q.EXPORT_FAILSE_MSG=l),this.notificationService.printErrorMessage(g.Q.EXPORT_FAILSE_MSG)})}onChangePage(e){this.page=e.pageIndex,this.pageSize=e.pageSize,this.loadData()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.D),t.Y36(c.qu),t.Y36(f.g),t.Y36(u.d),t.Y36(Z.sK),t.Y36(d.uU))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-em-coming-building-statistic"]],viewQuery:function(e,a){if(1&e&&(t.Gf(r.NW,7),t.Gf(B.YE,5)),2&e){let l;t.iGM(l=t.CRH())&&(a.paginator=l.first),t.iGM(l=t.CRH())&&(a.sort=l.first)}},decls:39,vars:28,consts:[["color","red"],["progressBar",""],["color","primary"],["fxLayout.xl","row","fxLayout.lg","row","fxLayout.md","column","fxLayout.xs","column"],["fxFlex","",2,"margin","5px"],["appearance","outline"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","date","required","",3,"ngModel","ngModelChange"],["fxLayout","","fxLayoutAlign","center center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["class","mat-elevation-z8 table-container",4,"ngIf"],[3,"value"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"mat-elevation-z8","table-container"],[1,"res-table-container"],["mat-table","","matSort","",1,"example-table",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","emName"],["matColumnDef","emCode"],["mat-header-cell","","style","text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["matColumnDef","emGender"],["matColumnDef","depName"],["matColumnDef","caNumber"],["matColumnDef","emIdentityNumber"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","pageSize","showFirstLastButtons","","aria-label","Select page of emComingBuildingStatisticModule elements",3,"pageSizeOptions","pageIndex","length","disabled","page"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"text-align","center"],["mat-cell","",2,"text-align","center"],["mat-header-row",""],["mat-row",""]],template:function(e,a){1&e&&(t._UZ(0,"ng-progress",0,1),t.TgZ(2,"mat-card"),t.TgZ(3,"div"),t.TgZ(4,"mat-card-title",2),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"mat-divider"),t._UZ(8,"br"),t._UZ(9,"br"),t.TgZ(10,"div",3),t.TgZ(11,"div",4),t.TgZ(12,"mat-form-field",5),t.TgZ(13,"mat-label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"mat-select",6),t.NdJ("ngModelChange",function(s){return a.depId=s}),t.YNc(17,M,2,2,"mat-option",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",4),t.TgZ(19,"mat-form-field",5),t.TgZ(20,"mat-label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"input",8),t.NdJ("ngModelChange",function(s){return a.dateFrom=s}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",4),t.TgZ(25,"mat-form-field",5),t.TgZ(26,"mat-label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"input",8),t.NdJ("ngModelChange",function(s){return a.dateTo=s}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",9),t.YNc(31,D,3,3,"button",10),t.ALo(32,"userRoles"),t.YNc(33,I,3,3,"button",11),t.ALo(34,"userRoles"),t.YNc(35,L,3,4,"button",12),t.ALo(36,"userRoles"),t.qZA(),t.YNc(37,W,27,8,"div",13),t.ALo(38,"userRoles"),t.qZA()),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,12,"emComingBuildingStatisticModule.title")),t.xp6(9),t.Oqu(t.lcZ(15,14,"emComingBuildingStatisticModule.depNameCol")),t.xp6(2),t.Q6J("ngModel",a.depId),t.xp6(1),t.Q6J("ngForOf",a.tdepartment),t.xp6(4),t.Oqu(t.lcZ(22,16,"emComingBuildingStatisticModule.dateFromCol")),t.xp6(2),t.Q6J("ngModel",a.dateFrom),t.xp6(4),t.Oqu(t.lcZ(28,18,"emComingBuildingStatisticModule.dateToCol")),t.xp6(2),t.Q6J("ngModel",a.dateTo),t.xp6(2),t.Q6J("ngIf",t.lcZ(32,20,"ViewEmComingBuildingStatistic")),t.xp6(2),t.Q6J("ngIf",t.lcZ(34,22,"ViewEmComingBuildingStatistic")),t.xp6(2),t.Q6J("ngIf",t.lcZ(36,24,"ExportEmComingBuildingStatistic")),t.xp6(2),t.Q6J("ngIf",t.lcZ(38,26,a.showList&&"ViewEmComingBuildingStatistic")))},directives:[x.Yh,S.a8,S.n5,A.d,p.xw,p.yH,_.KE,_.hX,E.gD,c.JJ,c.On,d.sg,y.Nt,c.Fj,c.Q7,p.Wh,d.O5,b.ey,N.lW,m.BZ,m.w1,m.fO,m.Dz,m.as,m.nj,r.NW,m.ge,m.ev,m.XQ,m.Gk],pipes:[Z.X$,T.v],styles:[""]}),i})();var k=o(4646),K=o(8576);const tt=[{path:"",component:V}];let it=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[C.D,f.g,u.d,d.uU,{provide:r.ye,useClass:u.d}],imports:[[d.ez,K.q,T.a,v.Bz.forChild(tt),x.Q8.withConfig({spinnerPosition:"right",color:"#red"}),k.bj]]}),i})()}}]);