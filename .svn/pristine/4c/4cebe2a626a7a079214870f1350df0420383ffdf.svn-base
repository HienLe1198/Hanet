"use strict";(self.webpackChunkAIOAcessControl_WebApp=self.webpackChunkAIOAcessControl_WebApp||[]).push([[1748],{1748:(Ie,_,s)=>{s.r(_),s.d(_,{AScheduleModule:()=>Ue});var T=s(6019),I=s(5351),h=s(9133),A=s(8977),Y=s(2262),d=s(4176),O=s(1125),Q=s(8053),p=s(9839),e=s(3668),S=s(2300),m=s(5304),Z=s(9594),x=s(6765),C=s(563),v=s(6154),b=s(888),k=s(5694),g=s(5243),f=s(8167),E=s(5498),J=s(138),R=s(86),w=s(904),B=s(7444),P=s(9112),j=s(6400),H=s(6731),y=s(9711);const V=["dialog"];function G(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().openDialog("create")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"button.createButton")," "))}function z(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"th",35),e.TgZ(1,"mat-checkbox",36),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw(2);return o?c.masterToggle():null}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function $(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",37),e.TgZ(1,"mat-checkbox",38),e.NdJ("click",function(o){return o.stopPropagation()})("change",function(o){const n=e.CHM(t).$implicit,u=e.oxw(2);return o?u.selection.toggle(n):null}),e.qZA(),e.qZA()}if(2&i){const t=a.$implicit,l=e.oxw(2);e.xp6(1),e.Q6J("checked",l.selection.isSelected(t))("aria-label",l.checkboxLabel(t))}}function W(i,a){1&i&&(e.TgZ(0,"th",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.positionCol")))}function X(i,a){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&i){const t=a.index,l=e.oxw(2);e.xp6(1),e.Oqu(t+1+l.page*l.pageSize)}}function K(i,a){1&i&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.dayNameCol")," "))}function ee(i,a){if(1&i&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.scheDay)}}function te(i,a){1&i&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.Time1NameCol")," "))}function ie(i,a){if(1&i&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.scheTime1)}}function ae(i,a){1&i&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.Time2NameCol")," "))}function le(i,a){if(1&i&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.scheTime2)}}function oe(i,a){1&i&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.MiddleTimeNameCol")," "))}function se(i,a){if(1&i&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.scheMiddleTime)}}function ce(i,a){1&i&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.Time3NameCol")," "))}function ne(i,a){if(1&i&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.scheTime3)}}function re(i,a){1&i&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.Time4NameCol")," "))}function he(i,a){if(1&i&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.scheTime4)}}function de(i,a){1&i&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.TimeDistanceNameCol")," "))}function ue(i,a){if(1&i&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.scheTimeDistance)}}function me(i,a){1&i&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.actionCol")))}function pe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"a",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).openDialog("edit",o)}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA(),e.qZA()}2&i&&e.s9C("matTooltip",e.lcZ(1,1,"button.editButton"))}function ge(i,a){1&i&&(e.TgZ(0,"td",37),e.YNc(1,pe,4,3,"a",43),e.ALo(2,"userRoles"),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,"UpdateASchedule")))}function Te(i,a){1&i&&e._UZ(0,"tr",45)}function fe(i,a){1&i&&e._UZ(0,"tr",46)}function _e(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",13),e.TgZ(1,"div",14),e.TgZ(2,"table",15),e.ynx(3,16),e.YNc(4,z,2,3,"th",17),e.YNc(5,$,2,2,"td",18),e.BQk(),e.ynx(6,19),e.YNc(7,W,3,3,"th",20),e.YNc(8,X,2,1,"td",18),e.BQk(),e.ynx(9,21),e.YNc(10,K,3,3,"th",22),e.YNc(11,ee,2,1,"td",23),e.BQk(),e.ynx(12,24),e.YNc(13,te,3,3,"th",22),e.YNc(14,ie,2,1,"td",23),e.BQk(),e.ynx(15,25),e.YNc(16,ae,3,3,"th",22),e.YNc(17,le,2,1,"td",23),e.BQk(),e.ynx(18,26),e.YNc(19,oe,3,3,"th",22),e.YNc(20,se,2,1,"td",23),e.BQk(),e.ynx(21,27),e.YNc(22,ce,3,3,"th",22),e.YNc(23,ne,2,1,"td",23),e.BQk(),e.ynx(24,28),e.YNc(25,re,3,3,"th",22),e.YNc(26,he,2,1,"td",23),e.BQk(),e.ynx(27,29),e.YNc(28,de,3,3,"th",22),e.YNc(29,ue,2,1,"td",23),e.BQk(),e.ynx(30,30),e.YNc(31,me,3,3,"th",31),e.YNc(32,ge,3,3,"td",18),e.BQk(),e.YNc(33,Te,1,0,"tr",32),e.YNc(34,fe,1,0,"tr",33),e.qZA(),e.qZA(),e.TgZ(35,"mat-paginator",34),e.NdJ("page",function(o){return e.CHM(t),e.oxw().onChangePage(o)}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(31),e.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",t.pageSizeOptions)("pageIndex",t.page)("length",t.totalRow)("disabled",!1)}}function Ae(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-option",65),e.NdJ("onSelectionChange",function(o){const n=e.CHM(t).$implicit;return e.oxw(2).onchangeScheCode(o,n)}),e._uU(1),e.qZA()}if(2&i){const t=a.$implicit;e.Q6J("value",t.name),e.xp6(1),e.Oqu(t.name)}}function Se(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.DayNameRequired")," "))}function Ze(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.Time1NameRequired")," "))}function xe(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.Time2NameRequired")," "))}function Ce(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.Time3NameRequired")," "))}function ve(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.Time4NameRequired")," "))}function be(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.MiddleTimeNameRequired")," "))}function ye(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"aScheduleModule.TimeDistanceNameRequired")," "))}function Me(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"form",47),e.NdJ("submit",function(){return e.CHM(t),e.oxw().addData()}),e.TgZ(1,"h2",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-dialog-content",49),e.TgZ(5,"mat-form-field",50),e.TgZ(6,"mat-label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"mat-select",51),e.YNc(10,Ae,2,2,"mat-option",52),e.qZA(),e.YNc(11,Se,3,3,"mat-error",53),e.qZA(),e.TgZ(12,"div",54),e.TgZ(13,"div"),e.TgZ(14,"mat-form-field",55),e.TgZ(15,"mat-label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"input",56),e.ALo(19,"translate"),e.YNc(20,Ze,3,3,"mat-error",53),e.qZA(),e.TgZ(21,"mat-form-field",55),e.TgZ(22,"mat-label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"input",57),e.ALo(26,"translate"),e.YNc(27,xe,3,3,"mat-error",53),e.qZA(),e.qZA(),e.TgZ(28,"div"),e.TgZ(29,"mat-form-field",55),e.TgZ(30,"mat-label"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e._UZ(33,"input",58),e.ALo(34,"translate"),e.YNc(35,Ce,3,3,"mat-error",53),e.qZA(),e.TgZ(36,"mat-form-field",55),e.TgZ(37,"mat-label"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e._UZ(40,"input",59),e.ALo(41,"translate"),e.YNc(42,ve,3,3,"mat-error",53),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",54),e.TgZ(44,"mat-form-field",55),e.TgZ(45,"mat-label"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e._UZ(48,"input",60),e.ALo(49,"translate"),e.YNc(50,be,3,3,"mat-error",53),e.qZA(),e.TgZ(51,"mat-form-field",55),e.TgZ(52,"mat-label"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e._UZ(55,"input",61),e.ALo(56,"translate"),e.YNc(57,ye,3,3,"mat-error",53),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"mat-dialog-actions",62),e.TgZ(59,"button",63),e.NdJ("click",function(){return e.CHM(t),e.oxw().onReset()}),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"button",64),e._uU(63),e.ALo(64,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.scheduleForm),e.xp6(2),e.Oqu(e.lcZ(3,27,t.title)),e.xp6(5),e.Oqu(e.lcZ(8,29,"aScheduleModule.dayNameCol")),e.xp6(2),e.Q6J("disabled","edit"==t.action),e.xp6(1),e.Q6J("ngForOf",t.scheduleCodeNotCreated),e.xp6(1),e.Q6J("ngIf",t.getValidForm.scheDay.hasError("required")),e.xp6(5),e.Oqu(e.lcZ(17,31,"aScheduleModule.Time1NameCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(19,33,"aScheduleModule.Time1NameCol")),e.xp6(2),e.Q6J("ngIf",t.getValidForm.scheTime1.hasError("required")),e.xp6(3),e.Oqu(e.lcZ(24,35,"aScheduleModule.Time2NameCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(26,37,"aScheduleModule.Time2NameCol")),e.xp6(2),e.Q6J("ngIf",t.getValidForm.scheTime2.hasError("required")),e.xp6(4),e.Oqu(e.lcZ(32,39,"aScheduleModule.Time3NameCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(34,41,"aScheduleModule.Time3NameCol")),e.xp6(2),e.Q6J("ngIf",t.getValidForm.scheTime3.hasError("required")),e.xp6(3),e.Oqu(e.lcZ(39,43,"aScheduleModule.Time4NameCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(41,45,"aScheduleModule.Time4NameCol")),e.xp6(2),e.Q6J("ngIf",t.getValidForm.scheTime4.hasError("required")),e.xp6(4),e.Oqu(e.lcZ(47,47,"aScheduleModule.MiddleTimeNameCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(49,49,"aScheduleModule.MiddleTimeNameCol")),e.xp6(2),e.Q6J("ngIf",t.getValidForm.scheMiddleTime.hasError("required")),e.xp6(3),e.Oqu(e.lcZ(54,51,"aScheduleModule.TimeDistanceNameCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(56,53,"aScheduleModule.TimeDistanceNameCol")),e.xp6(2),e.Q6J("ngIf",t.getValidForm.scheTimeDistance.hasError("required")),e.xp6(3),e.Oqu(e.lcZ(61,55,"button.cancelButton")),e.xp6(2),e.Q6J("disabled",t.preventAbuse),e.xp6(1),e.Oqu(e.lcZ(64,57,"button.saveButton"))}}let Ne=(()=>{class i{constructor(t,l,o,c,n,u){let M,N,q,L,F,D,U;this.dataService=t,this.dialog=l,this.notificationService=o,this.pagin=c,this.translateService=n,this.formBuilder=u,this.displayedColumns=["select","position","scheDay","scheTime1","scheTime2","scheMiddleTime","scheTime3","scheTime4","scheTimeDistance","action"],this.dataSource=new d.by,this.preventAbuse=!1,this.page=0,this.keyword="",this.totalRow=0,this.totalPage=0,this.selection=new I.Ov(!0,[]),this.action="",this.title="",this.pageSizeOptions=[10,25,50,100],this.pageSize=this.pageSizeOptions[0],this.isAllChecked=!1,this.scheduleParentControl=new h.NI,this.scheduleForm=this.formBuilder.group({scheId:"",scheDay:["",h.kI.compose([h.kI.required,h.kI.maxLength(10)])],scheCode:"",scheTime1:"",scheTime2:"",scheMiddleTime:"",scheTime3:"",scheTime4:"",scheTimeDistance:""}),this.filteredOptions=this.scheduleParentControl.valueChanges.pipe((0,O.O)(""),(0,Q.U)(r=>r)),this.translateService.get("aScheduleModule.MondayCol").subscribe(r=>M=r),this.translateService.get("aScheduleModule.TuesdayCol").subscribe(r=>N=r),this.translateService.get("aScheduleModule.WednesdayCol").subscribe(r=>q=r),this.translateService.get("aScheduleModule.ThursdayCol").subscribe(r=>L=r),this.translateService.get("aScheduleModule.FridayCol").subscribe(r=>F=r),this.translateService.get("aScheduleModule.SaturdayCol").subscribe(r=>D=r),this.translateService.get("aScheduleModule.SundayCol").subscribe(r=>U=r),this.lstDays=[{id:1,name:M},{id:2,name:N},{id:3,name:q},{id:4,name:L},{id:5,name:F},{id:6,name:D},{id:0,name:U}]}onchangeScheCode(t,l){t.source.selected&&this.scheduleForm.controls.scheCode.setValue(l.id)}ngOnInit(){this.loadAScheduleListPaging(),this.loadAllASchedule()}openDialog(t,l,o){if(this.action=t,"create"==t)this.translateService.get("aScheduleModule.createMessage").subscribe(n=>this.title=n),this.loadAllASchedule();else{this.translateService.get("aScheduleModule.editMessage").subscribe(u=>this.title=u),this.scheduleForm.controls.scheId.setValue(l.scheId);let n=this.dataSource.filteredData.filter(u=>u.scheId==l.scheId)[0];this.lstDays.forEach(u=>{n.scheCode==u.id&&this.scheduleCodeNotCreated.push(u)}),this.scheduleForm.controls.scheDay.setValue(n.scheDay),this.scheduleForm.controls.scheTime1.setValue(n.scheTime1),this.scheduleForm.controls.scheTime2.setValue(n.scheTime2),this.scheduleForm.controls.scheMiddleTime.setValue(n.scheMiddleTime),this.scheduleForm.controls.scheTime3.setValue(n.scheTime3),this.scheduleForm.controls.scheTime4.setValue(n.scheTime4),this.scheduleForm.controls.scheTimeDistance.setValue(n.scheTimeDistance)}const c=this.dialog.open(this.dialogTemplate,{width:"650px"});c.disableClose=!0,c.afterClosed().subscribe(n=>{this.onReset()})}onReset(){this.dialog.closeAll(),this.scheduleForm.reset()}loadAScheduleListPaging(){this.preventAbuse=!0,this.dataService.get("ASchedule/getlistpaging?page="+this.page+"&pageSize="+this.pageSize+"&keyword="+this.keyword).subscribe(t=>{this.dataSource=new d.by(t.items),this.dataSource.sort=this.sort,this.totalRow=t.totalCount,this.preventAbuse=!1},t=>{this.preventAbuse=!1,this.translateService.get("messageSystem.loadFail").subscribe(l=>p.Q.GET_FAILSE_MSG=l),this.notificationService.printErrorMessage(p.Q.GET_FAILSE_MSG)})}loadAllASchedule(){this.scheduleCodeNotCreated=[],this.preventAbuse=!0,this.dataService.get("ASchedule/getall").subscribe(t=>{let l=[];t.forEach(o=>{l.push(o.scheCode)}),this.lstDays.forEach(o=>{-1==l.indexOf(o.id)&&this.scheduleCodeNotCreated.push(o)}),this.preventAbuse=!1},t=>{this.preventAbuse=!1,this.translateService.get("messageSystem.loadFail").subscribe(l=>p.Q.GET_FAILSE_MSG=l),this.notificationService.printErrorMessage(p.Q.GET_FAILSE_MSG)})}applyFilter(t){this.keyword=t.target.value,this.page=0,this.loadAScheduleListPaging(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}get getValidForm(){return this.scheduleForm.controls}getParentId(t){this.scheduleForm.controls.scheParentId.setValue(t.scheId)}get control(){return this.scheduleForm.controls}addData(){if(!this.scheduleForm.invalid){if(this.preventAbuse=!0,"create"==this.action){let t={scheDay:this.scheduleForm.controls.scheDay.value,scheCode:this.scheduleForm.controls.scheCode.value,scheTime1:this.scheduleForm.controls.scheTime1.value,scheTime2:this.scheduleForm.controls.scheTime2.value,scheMiddleTime:this.scheduleForm.controls.scheMiddleTime.value,scheTime3:this.scheduleForm.controls.scheTime3.value,scheTime4:this.scheduleForm.controls.scheTime4.value,scheTimeDistance:this.scheduleForm.controls.scheTimeDistance.value};if(t.scheTime2<t.scheTime1)return this.notificationService.printErrorMessage("Th\u1eddi gian k\u1ebft th\xfac bu\u1ed5i s\xe1ng kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n th\u1eddi gian b\u1eaft \u0111\u1ea7u bu\u1ed5i s\xe1ng"),this.preventAbuse=!1,void this.control.scheTime2.reset();if(t.scheTime4<t.scheTime3)return this.notificationService.printErrorMessage("Th\u1eddi gian k\u1ebft th\xfac bu\u1ed5i chi\u1ec1u kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n th\u1eddi gian b\u1eaft \u0111\u1ea7u bu\u1ed5i chi\u1ec1u"),this.preventAbuse=!1,void this.control.scheTime4.reset();if(!(t.scheTime2<=t.scheMiddleTime&&t.scheMiddleTime<=t.scheTime3))return this.notificationService.printErrorMessage("Th\u1eddi gian giao ca ph\u1ea3i n\u1eb1m trong kho\u1ea3n th\u1eddi gian k\u1ebft th\xfac bu\u1ed5i s\xe1ng v\xe0 th\u1eddi gian b\u1eaft \u0111\u1ea7u bu\u1ed5i chi\u1ec1u"),this.preventAbuse=!1,void this.control.scheMiddleTime.reset();this.dataService.post("ASchedule/create",t).subscribe(l=>{let o;this.translateService.get("messageSystem.createSuccess").subscribe(c=>o=c),this.notificationService.printSuccessMessage(o),this.loadAScheduleListPaging(),this.loadAllASchedule(),this.dialog.closeAll(),this.onReset()},l=>{let o;this.preventAbuse=!1,this.translateService.get("messageSystem.createFail").subscribe(c=>o=c),this.notificationService.printErrorMessage(l)})}else if("edit"==this.action){let t={scheId:this.scheduleForm.controls.scheId.value,scheDay:this.scheduleForm.controls.scheDay.value,scheCode:this.scheduleForm.controls.scheCode.value,scheTime1:this.scheduleForm.controls.scheTime1.value,scheTime2:this.scheduleForm.controls.scheTime2.value,scheMiddleTime:this.scheduleForm.controls.scheMiddleTime.value,scheTime3:this.scheduleForm.controls.scheTime3.value,scheTime4:this.scheduleForm.controls.scheTime4.value,scheTimeDistance:this.scheduleForm.controls.scheTimeDistance.value};if(t.scheTime2<t.scheTime1)return this.notificationService.printErrorMessage("Th\u1eddi gian k\u1ebft th\xfac bu\u1ed5i s\xe1ng kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n th\u1eddi gian b\u1eaft \u0111\u1ea7u bu\u1ed5i s\xe1ng"),this.preventAbuse=!1,void this.control.scheTime2.reset();if(t.scheTime4<t.scheTime3)return this.notificationService.printErrorMessage("Th\u1eddi gian k\u1ebft th\xfac bu\u1ed5i chi\u1ec1u kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n th\u1eddi gian b\u1eaft \u0111\u1ea7u bu\u1ed5i chi\u1ec1u"),this.preventAbuse=!1,void this.control.scheTime4.reset();if(!(t.scheTime2<=t.scheMiddleTime&&t.scheMiddleTime<=t.scheTime3))return this.notificationService.printErrorMessage("Th\u1eddi gian giao ca ph\u1ea3i n\u1eb1m trong kho\u1ea3n th\u1eddi gian k\u1ebft th\xfac bu\u1ed5i s\xe1ng v\xe0 th\u1eddi gian b\u1eaft \u0111\u1ea7u bu\u1ed5i chi\u1ec1u"),this.preventAbuse=!1,void this.control.scheMiddleTime.reset();this.dataService.put("ASchedule/update",t).subscribe(l=>{let o;this.translateService.get("messageSystem.updateSuccess").subscribe(c=>o=c),this.notificationService.printSuccessMessage(o),this.loadAScheduleListPaging(),this.loadAllASchedule(),this.dialog.closeAll(),this.onReset()},l=>{let o;this.preventAbuse=!1,this.translateService.get("messageSystem.updateFail").subscribe(c=>o=c),this.notificationService.printErrorMessage(l)})}this.onReset()}}ngAfterViewInit(){this.paginator._intl.itemsPerPageLabel=this.pagin.setLable,this.paginator._intl.firstPageLabel=this.pagin.firstButton,this.paginator._intl.nextPageLabel=this.pagin.nextButton,this.paginator._intl.lastPageLabel=this.pagin.lastButton,this.paginator._intl.previousPageLabel=this.pagin.preButton}onChangePage(t){this.page=t.pageIndex,this.pageSize=t.pageSize,this.loadAScheduleListPaging()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(S.D),e.Y36(m.uw),e.Y36(Z.g),e.Y36(x.d),e.Y36(C.sK),e.Y36(h.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-a-schedule"]],viewQuery:function(t,l){if(1&t&&(e.Gf(A.NW,5),e.Gf(Y.YE,5),e.Gf(V,5)),2&t){let o;e.iGM(o=e.CRH())&&(l.paginator=o.first),e.iGM(o=e.CRH())&&(l.sort=o.first),e.iGM(o=e.CRH())&&(l.dialogTemplate=o.first)}},decls:27,vars:15,consts:[["color","red"],["progressBar",""],["color","primary"],["fxLayout.xl","row","fxLayout.lg","row","fxLayout.md","row","fxLayout.xs","column"],["fxFlex","","fxLayoutAlign","start center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["fxFlex",""],["appearance","standard","ngClass.md","width100"],["matInput","",3,"placeholder","keyup"],["inputSearch",""],["class","mat-elevation-z8 table-container",4,"ngIf"],["dialog",""],["mat-raised-button","","color","primary",3,"click"],[1,"mat-elevation-z8","table-container"],[1,"res-table-container"],["mat-table","","matSort","",1,"example-table",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","checkbox-col",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","scheDay"],["mat-header-cell","","style","text-align:center;","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","style","text-align:center;",4,"matCellDef"],["matColumnDef","scheTime1"],["matColumnDef","scheTime2"],["matColumnDef","scheMiddleTime"],["matColumnDef","scheTime3"],["matColumnDef","scheTime4"],["matColumnDef","scheTimeDistance"],["matColumnDef","action","stickyEnd",""],["mat-header-cell","","class","action-col",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","pageSize","showFirstLastButtons","","aria-label","Select page of appRoles elements",3,"pageSizeOptions","pageIndex","length","disabled","page"],["mat-header-cell","",1,"checkbox-col"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header","",2,"text-align","center"],["mat-cell","",2,"text-align","center"],["mat-header-cell","",1,"action-col"],["href","javascript:void(0)","color","primary",3,"matTooltip","click",4,"ngIf"],["href","javascript:void(0)","color","primary",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""],["action","",3,"formGroup","submit"],["mat-dialog-title",""],[1,"mat-typography"],["appearance","outline"],["formControlName","scheDay","required","",3,"disabled"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[4,"ngIf"],["fxLayout.xl","row","fxLayout.lg","row","fxLayout.md","row","fxLayout.xs","column","fxLayoutGap","center center"],["appearance","outline",2,"margin-right","5px"],["type","time","matInput","","formControlName","scheTime1","required","",3,"placeholder"],["type","time","matInput","","formControlName","scheTime2","required","",3,"placeholder"],["type","time","matInput","","formControlName","scheTime3","required","",3,"placeholder"],["type","time","matInput","","formControlName","scheTime4","required","",3,"placeholder"],["type","time","matInput","","formControlName","scheMiddleTime","required","",3,"placeholder"],["matInput","","formControlName","scheTimeDistance","required","",3,"placeholder"],["align","center"],["mat-stroked-button","","color","warn","mat-dialog-close","",3,"click"],["mat-stroked-button","","color","primary","type","submit",3,"disabled"],[3,"value","onSelectionChange"]],template:function(t,l){1&t&&(e._UZ(0,"ng-progress",0,1),e.TgZ(2,"mat-card"),e.TgZ(3,"div"),e.TgZ(4,"mat-card-title",2),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"mat-divider"),e._UZ(8,"br"),e._UZ(9,"br"),e.TgZ(10,"div",3),e.TgZ(11,"div",4),e.YNc(12,G,3,3,"button",5),e.ALo(13,"userRoles"),e.qZA(),e._UZ(14,"div",6),e.TgZ(15,"div",6),e.TgZ(16,"mat-form-field",7),e.TgZ(17,"mat-label"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"input",8,9),e.NdJ("keyup",function(c){return l.applyFilter(c)}),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(23,_e,36,8,"div",10),e.ALo(24,"userRoles"),e.qZA(),e.YNc(25,Me,65,59,"ng-template",null,11,e.W1O)),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,5,"aScheduleModule.title")),e.xp6(7),e.Q6J("ngIf",e.lcZ(13,7,"CreateASchedule")),e.xp6(6),e.hij(" ",e.lcZ(19,9,"button.searchButton"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(22,11,"button.searchPlaceholder")),e.xp6(3),e.Q6J("ngIf",e.lcZ(24,13,"ViewASchedule")))},directives:[v.Yh,b.a8,b.n5,k.d,g.xw,g.yH,g.Wh,T.O5,f.KE,E.oO,f.hX,J.Nt,R.lW,d.BZ,d.w1,d.fO,d.Dz,d.as,d.nj,A.NW,d.ge,w.oG,d.ev,B.gM,P.Hw,d.XQ,d.Gk,h._Y,h.JL,h.sg,m.uh,m.xY,j.gD,h.JJ,h.u,h.Q7,T.sg,g.SQ,h.Fj,m.H8,m.ZT,H.ey,f.TO],pipes:[C.X$,y.v],styles:[""]}),i})();var qe=s(4382),Le=s(8576),Fe=s(4646);const De=[{path:"",component:Ne}];let Ue=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[S.D,Z.g,x.d],imports:[[T.ez,Le.q,y.a,qe.Bz.forChild(De),v.Q8.withConfig({spinnerPosition:"right",color:"#red"}),Fe.bj]]}),i})()}}]);