"use strict";(self.webpackChunkAIOAcessControl_WebApp=self.webpackChunkAIOAcessControl_WebApp||[]).push([[3855],{3855:(le,h,n)=>{n.r(h),n.d(h,{TDevicetypeModule:()=>se});var T=n(6019),D=n(5351),c=n(9133),y=n(8977),S=n(2262),r=n(4176),d=n(9839),e=n(3668),f=n(2300),u=n(5304),_=n(9594),x=n(6765),Z=n(563),C=n(6154),b=n(888),L=n(5694),v=n(5243),g=n(8167),N=n(5498),I=n(138),M=n(86),F=n(904),E=n(7444),q=n(9112),A=n(9711);const k=["dialog"];function Q(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().openDialog("create")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"button.createButton")," "))}function O(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().removeData()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",0==t.selection.selected.length),e.xp6(1),e.hij(" ",e.lcZ(2,2,"button.deleteButton")," ")}}function w(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"th",31),e.TgZ(1,"mat-checkbox",32),e.NdJ("change",function(a){e.CHM(t);const l=e.oxw(2);return a?l.masterToggle():null}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function R(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",33),e.TgZ(1,"mat-checkbox",34),e.NdJ("click",function(a){return a.stopPropagation()})("change",function(a){const p=e.CHM(t).$implicit,m=e.oxw(2);return a?m.selection.toggle(p):null}),e.qZA(),e.qZA()}if(2&i){const t=s.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function U(i,s){1&i&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.positionCol")))}function J(i,s){if(1&i&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&i){const t=s.index,o=e.oxw(2);e.xp6(1),e.Oqu(t+1+o.page*o.pageSize)}}function Y(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"tDeviceTypeModule.devTypeNameCol")))}function P(i,s){if(1&i&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.devTypeName)}}function B(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"tDeviceTypeModule.devTypeCodeCol")))}function H(i,s){if(1&i&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.devTypeCode)}}function G(i,s){1&i&&(e.TgZ(0,"th",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.actionCol")))}function z(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"a",39),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(2).openDialog("edit",a)}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA(),e.qZA()}2&i&&e.s9C("matTooltip",e.lcZ(1,1,"button.editButton"))}function j(i,s){1&i&&(e.TgZ(0,"td",33),e.YNc(1,z,4,3,"a",38),e.ALo(2,"userRoles"),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,"UpdateTDeviceType")))}function V(i,s){1&i&&e._UZ(0,"tr",40)}function $(i,s){1&i&&e._UZ(0,"tr",41)}function W(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"div",16),e.TgZ(2,"table",17),e.ynx(3,18),e.YNc(4,w,2,3,"th",19),e.YNc(5,R,2,2,"td",20),e.BQk(),e.ynx(6,21),e.YNc(7,U,3,3,"th",22),e.YNc(8,J,2,1,"td",20),e.BQk(),e.ynx(9,23),e.YNc(10,Y,3,3,"th",24),e.YNc(11,P,2,1,"td",20),e.BQk(),e.ynx(12,25),e.YNc(13,B,3,3,"th",24),e.YNc(14,H,2,1,"td",20),e.BQk(),e.ynx(15,26),e.YNc(16,G,3,3,"th",27),e.YNc(17,j,3,3,"td",20),e.BQk(),e.YNc(18,V,1,0,"tr",28),e.YNc(19,$,1,0,"tr",29),e.qZA(),e.qZA(),e.TgZ(20,"mat-paginator",30),e.NdJ("page",function(a){return e.CHM(t),e.oxw().onChangePage(a)}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",t.pageSizeOptions)("pageIndex",t.page)("length",t.totalRow)("disabled",!1)}}function K(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"tDeviceTypeModule.devTypeNameRequired")," "))}function X(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"tDeviceTypeModule.devtypecodeRequired")," "))}function ee(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",42),e.NdJ("submit",function(){return e.CHM(t),e.oxw().addData()}),e.TgZ(1,"h2",43),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-dialog-content",44),e.TgZ(5,"mat-form-field",45),e.TgZ(6,"mat-label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"input",46,47),e.ALo(11,"translate"),e.TgZ(12,"mat-hint",48),e._uU(13),e.qZA(),e.YNc(14,K,3,3,"mat-error",49),e.qZA(),e.TgZ(15,"mat-form-field",45),e.TgZ(16,"mat-label"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",50,47),e.ALo(21,"translate"),e.TgZ(22,"mat-hint",48),e._uU(23),e.qZA(),e.YNc(24,X,3,3,"mat-error",49),e.qZA(),e.qZA(),e.TgZ(25,"mat-dialog-actions",51),e.TgZ(26,"button",52),e.NdJ("click",function(){return e.CHM(t),e.oxw().onReset()}),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"button",53),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(10),o=e.oxw();e.Q6J("formGroup",o.devicetypeForm),e.xp6(2),e.Oqu(e.lcZ(3,13,o.title)),e.xp6(5),e.Oqu(e.lcZ(8,15,"tDeviceTypeModule.devTypeNameCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(11,17,"tDeviceTypeModule.devTypeNameCol")),e.xp6(4),e.hij("",t.value.length," / 50"),e.xp6(1),e.Q6J("ngIf",o.getValidForm.devTypeName.hasError("required")),e.xp6(3),e.Oqu(e.lcZ(18,19,"tDeviceTypeModule.devTypeCodeCol")),e.xp6(2),e.s9C("placeholder",e.lcZ(21,21,"tDeviceTypeModule.devTypeCodeCol")),e.xp6(4),e.hij("",t.value.length," / 10"),e.xp6(1),e.Q6J("ngIf",o.getValidForm.devTypeCode.hasError("required")),e.xp6(3),e.Oqu(e.lcZ(28,23,"button.cancelButton")),e.xp6(2),e.Q6J("disabled",o.preventAbuse),e.xp6(1),e.Oqu(e.lcZ(31,25,"button.saveButton"))}}let te=(()=>{class i{constructor(t,o,a,l,p,m){this.dataService=t,this.dialog=o,this.notificationService=a,this.pagin=l,this.translateService=p,this.formBuilder=m,this.displayedColumns=["select","position","devtypeName","devtypeCode","action"],this.dataSource=new r.by,this.preventAbuse=!1,this.page=0,this.keyword="",this.totalRow=0,this.totalPage=0,this.selection=new D.Ov(!0,[]),this.action="",this.title="",this.pageSizeOptions=[10,25,50,100],this.pageSize=this.pageSizeOptions[0],this.isAllChecked=!1,this.DevicetypeParentControl=new c.NI,this.devicetypeForm=this.formBuilder.group({devTypeId:"",devTypeName:["",c.kI.compose([c.kI.required,c.kI.maxLength(50)])],devTypeCode:["",c.kI.compose([c.kI.required,c.kI.maxLength(10)])]})}ngOnInit(){this.getTdevicetypetListPaging()}getTdevicetypetListPaging(){this.preventAbuse=!0,this.dataService.get("TDeviceType/getlistpaging?page="+this.page+"&pageSize="+this.pageSize+"&keyword="+this.keyword).subscribe(t=>{this.dataSource=new r.by(t.items),this.dataSource.sort=this.sort,this.totalRow=t.totalCount,this.preventAbuse=!1},t=>{this.preventAbuse=!1,this.translateService.get("messageSystem.loadFail").subscribe(o=>d.Q.GET_FAILSE_MSG=o),this.notificationService.printErrorMessage(d.Q.GET_FAILSE_MSG)})}openDialog(t,o,a){if(this.action=t,"create"==t)this.translateService.get("tDeviceTypeModule.createMessage").subscribe(p=>this.title=p);else{this.translateService.get("tDeviceTypeModule.editMessage").subscribe(m=>this.title=m),this.devicetypeForm.controls.devTypeId.setValue(o.devTypeId);let p=this.dataSource.filteredData.filter(m=>m.devTypeId==o.devTypeId)[0];this.devicetypeForm.controls.devTypeName.setValue(p.devTypeName),this.devicetypeForm.controls.devTypeCode.setValue(p.devTypeCode)}const l=this.dialog.open(this.dialogTemplate,{width:"650px"});l.disableClose=!0,l.afterClosed().subscribe(p=>{this.onReset()})}onReset(){this.dialog.closeAll(),this.devicetypeForm.reset()}applyFilter(t){this.keyword=t.target.value,this.page=0,this.getTdevicetypetListPaging(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}get getValidForm(){return this.devicetypeForm.controls}getParentId(t){this.devicetypeForm.controls.devTypeParentId.setValue(t.devTypeId)}addData(){this.devicetypeForm.invalid||(this.preventAbuse=!0,"create"==this.action?this.dataService.post("TDeviceType/create",{devTypeName:this.devicetypeForm.controls.devTypeName.value,devTypeCode:this.devicetypeForm.controls.devTypeCode.value}).subscribe(o=>{let a;this.translateService.get("messageSystem.createSuccess").subscribe(l=>a=l),this.notificationService.printSuccessMessage(a),this.getTdevicetypetListPaging(),this.dialog.closeAll(),this.onReset()},o=>{let a;this.preventAbuse=!1,this.translateService.get("messageSystem.createFail").subscribe(l=>a=l),this.notificationService.printErrorMessage(o)}):"edit"==this.action&&this.dataService.put("TDeviceType/update",{devTypeName:this.devicetypeForm.controls.devTypeName.value,devTypeId:this.devicetypeForm.controls.devTypeId.value,devTypeCode:this.devicetypeForm.controls.devTypeCode.value}).subscribe(o=>{let a;this.translateService.get("messageSystem.updateSuccess").subscribe(l=>a=l),this.notificationService.printSuccessMessage(a),this.getTdevicetypetListPaging(),this.dialog.closeAll(),this.onReset()},o=>{let a;this.preventAbuse=!1,this.translateService.get("messageSystem.updateFail").subscribe(l=>a=l),this.notificationService.printErrorMessage(o)}),this.onReset())}removeData(){let t=[];this.selection.selected.forEach(o=>{t.push(o.devTypeId)}),this.translateService.get("messageSystem.confirmDelete").subscribe(o=>d.Q.CONFIRM_DELETE_MSG=o),this.notificationService.printConfirmationDialog(d.Q.CONFIRM_DELETE_MSG,()=>this.deleteItemConfirm(JSON.stringify(t)))}deleteItemConfirm(t){this.preventAbuse=!0,this.dataService.delete("TDeviceType/deletemulti","checkedList",t).subscribe(o=>{this.translateService.get("messageSystem.deleteSuccess").subscribe(a=>d.Q.DELETED_OK_MSG=a),this.notificationService.printSuccessMessage(d.Q.DELETED_OK_MSG),this.selection.clear(),this.getTdevicetypetListPaging()},o=>{this.preventAbuse=!1,this.translateService.get("messageSystem.deletefail").subscribe(a=>d.Q.DELETE_FAILSE_MSG=a),this.notificationService.printErrorMessage(d.Q.DELETE_FAILSE_MSG)})}ngAfterViewInit(){this.paginator._intl.itemsPerPageLabel=this.pagin.setLable,this.paginator._intl.firstPageLabel=this.pagin.firstButton,this.paginator._intl.nextPageLabel=this.pagin.nextButton,this.paginator._intl.lastPageLabel=this.pagin.lastButton,this.paginator._intl.previousPageLabel=this.pagin.preButton}onChangePage(t){this.page=t.pageIndex,this.pageSize=t.pageSize,this.getTdevicetypetListPaging()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.D),e.Y36(u.uw),e.Y36(_.g),e.Y36(x.d),e.Y36(Z.sK),e.Y36(c.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-t-devicetype"]],viewQuery:function(t,o){if(1&t&&(e.Gf(y.NW,5),e.Gf(S.YE,5),e.Gf(k,5)),2&t){let a;e.iGM(a=e.CRH())&&(o.paginator=a.first),e.iGM(a=e.CRH())&&(o.sort=a.first),e.iGM(a=e.CRH())&&(o.dialogTemplate=a.first)}},decls:29,vars:18,consts:[["color","red"],["progressBar",""],["color","primary"],["fxLayout.xl","row","fxLayout.lg","row","fxLayout.md","row","fxLayout.xs","column"],["fxFlex","","fxLayoutAlign","start center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["color","warn","mat-raised-button","",3,"disabled","click",4,"ngIf"],["fxFlex",""],["appearance","standard","ngClass.md","width100"],["matInput","",3,"placeholder","keyup"],["inputSearch",""],["class","mat-elevation-z8 table-container",4,"ngIf"],["dialog",""],["mat-raised-button","","color","primary",3,"click"],["color","warn","mat-raised-button","",3,"disabled","click"],[1,"mat-elevation-z8","table-container"],[1,"res-table-container"],["mat-table","","matSort","",1,"example-table",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","checkbox-col",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","devtypeName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","devtypeCode"],["matColumnDef","action","stickyEnd",""],["mat-header-cell","","class","action-col",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","pageSize","showFirstLastButtons","","aria-label","Select page of appRoles elements",3,"pageSizeOptions","pageIndex","length","disabled","page"],["mat-header-cell","",1,"checkbox-col"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","",1,"action-col"],["href","javascript:void(0)","color","primary",3,"matTooltip","click",4,"ngIf"],["href","javascript:void(0)","color","primary",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""],["action","",3,"formGroup","submit"],["mat-dialog-title",""],[1,"mat-typography"],["appearance","outline"],["matInput","","formControlName","devTypeName","maxlength","50","required","",3,"placeholder"],["name",""],["align","end"],[4,"ngIf"],["matInput","","formControlName","devTypeCode","maxlength","10","required","",3,"placeholder"],["align","center"],["mat-stroked-button","","color","warn","mat-dialog-close","",3,"click"],["mat-stroked-button","","color","primary","type","submit",3,"disabled"]],template:function(t,o){1&t&&(e._UZ(0,"ng-progress",0,1),e.TgZ(2,"mat-card"),e.TgZ(3,"div"),e.TgZ(4,"mat-card-title",2),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"mat-divider"),e._UZ(8,"br"),e._UZ(9,"br"),e.TgZ(10,"div",3),e.TgZ(11,"div",4),e.YNc(12,Q,3,3,"button",5),e.ALo(13,"userRoles"),e.YNc(14,O,3,4,"button",6),e.ALo(15,"userRoles"),e.qZA(),e._UZ(16,"div",7),e.TgZ(17,"div",7),e.TgZ(18,"mat-form-field",8),e.TgZ(19,"mat-label"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",9,10),e.NdJ("keyup",function(l){return o.applyFilter(l)}),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(25,W,21,8,"div",11),e.ALo(26,"userRoles"),e.qZA(),e.YNc(27,ee,32,27,"ng-template",null,12,e.W1O)),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,6,"tDeviceTypeModule.title")),e.xp6(7),e.Q6J("ngIf",e.lcZ(13,8,"CreateTDeviceType")),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,10,"DeleteTDeviceType")),e.xp6(6),e.hij(" ",e.lcZ(21,12,"button.searchButton"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(24,14,"button.searchPlaceholder")),e.xp6(3),e.Q6J("ngIf",e.lcZ(26,16,"ViewTDeviceType")))},directives:[C.Yh,b.a8,b.n5,L.d,v.xw,v.yH,v.Wh,T.O5,g.KE,N.oO,g.hX,I.Nt,M.lW,r.BZ,r.w1,r.fO,r.Dz,r.as,r.nj,y.NW,r.ge,F.oG,r.ev,E.gM,q.Hw,r.XQ,r.Gk,c._Y,c.JL,c.sg,u.uh,u.xY,c.Fj,c.JJ,c.u,c.nD,c.Q7,g.bx,u.H8,u.ZT,g.TO],pipes:[Z.X$,A.v],styles:[""]}),i})();var ie=n(4382),oe=n(8576),ae=n(4646);const ne=[{path:"",component:te}];let se=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[f.D,_.g,x.d],imports:[[T.ez,oe.q,A.a,ie.Bz.forChild(ne),C.Q8.withConfig({spinnerPosition:"right",color:"#red"}),ae.bj]]}),i})()}}]);